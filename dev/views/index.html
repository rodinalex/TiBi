
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://rodinalex.github.io/TiBi/dev/views/">
      
      
        <link rel="prev" href="../ui/">
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.15">
    
    
      
        <title>Views - TiBi</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#views" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="TiBi" class="md-header__button md-logo" aria-label="TiBi" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            TiBi
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Views
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/rodinalex/TiBi" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../user_guide/install/" class="md-tabs__link">
          
  
  
  User Guide

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../architecture/" class="md-tabs__link">
          
  
  
  Developer Guide

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="TiBi" class="md-nav__button md-logo" aria-label="TiBi" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    TiBi
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/rodinalex/TiBi" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    User Guide
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            User Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user_guide/install/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Installation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user_guide/getting_started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user_guide/bands/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Band structure and DOS
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Developer Guide
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Developer Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Architecture
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../controllers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Controllers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../core/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Core
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../logic/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Logic
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../models/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Models
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ui/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    UI
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Views
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Views
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#views" class="md-nav__link">
    <span class="md-ellipsis">
      Views
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Views">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#TiBi.views.BrillouinZonePlotView" class="md-nav__link">
    <span class="md-ellipsis">
      BrillouinZonePlotView
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#TiBi.views.ComputationView" class="md-nav__link">
    <span class="md-ellipsis">
      ComputationView
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#TiBi.views.MainToolbarView" class="md-nav__link">
    <span class="md-ellipsis">
      MainToolbarView
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MainToolbarView">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#TiBi.views.MainToolbarView.set_actions" class="md-nav__link">
    <span class="md-ellipsis">
      set_actions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#TiBi.views.MainWindow" class="md-nav__link">
    <span class="md-ellipsis">
      MainWindow
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#TiBi.views.MenuBarView" class="md-nav__link">
    <span class="md-ellipsis">
      MenuBarView
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MenuBarView">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#TiBi.views.MenuBarView.set_actions" class="md-nav__link">
    <span class="md-ellipsis">
      set_actions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#TiBi.views.PlotView" class="md-nav__link">
    <span class="md-ellipsis">
      PlotView
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#TiBi.views.ProgressDialog" class="md-nav__link">
    <span class="md-ellipsis">
      ProgressDialog
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ProgressDialog">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#TiBi.views.ProgressDialog.update_progress" class="md-nav__link">
    <span class="md-ellipsis">
      update_progress
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#TiBi.views.StatusBarView" class="md-nav__link">
    <span class="md-ellipsis">
      StatusBarView
    </span>
  </a>
  
    <nav class="md-nav" aria-label="StatusBarView">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#TiBi.views.StatusBarView.update_status" class="md-nav__link">
    <span class="md-ellipsis">
      update_status
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#TiBi.views.UnitCellPlotView" class="md-nav__link">
    <span class="md-ellipsis">
      UnitCellPlotView
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#TiBi.views.UnitCellView" class="md-nav__link">
    <span class="md-ellipsis">
      UnitCellView
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#panel-components" class="md-nav__link">
    <span class="md-ellipsis">
      Panel Components
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Panel Components">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#TiBi.views.panels.BandsPanel" class="md-nav__link">
    <span class="md-ellipsis">
      BandsPanel
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#TiBi.views.panels.hopping_panel.HoppingMatrix" class="md-nav__link">
    <span class="md-ellipsis">
      HoppingMatrix
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#TiBi.views.panels.HoppingPanel" class="md-nav__link">
    <span class="md-ellipsis">
      HoppingPanel
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#TiBi.views.panels.hopping_panel.HoppingTable" class="md-nav__link">
    <span class="md-ellipsis">
      HoppingTable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#TiBi.views.panels.SitePanel" class="md-nav__link">
    <span class="md-ellipsis">
      SitePanel
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#TiBi.views.panels.tree_view_panel.TreeDelegate" class="md-nav__link">
    <span class="md-ellipsis">
      TreeDelegate
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#TiBi.views.panels.TreeViewPanel" class="md-nav__link">
    <span class="md-ellipsis">
      TreeViewPanel
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#TiBi.views.panels.UnitCellPanel" class="md-nav__link">
    <span class="md-ellipsis">
      UnitCellPanel
    </span>
  </a>
  
    <nav class="md-nav" aria-label="UnitCellPanel">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#TiBi.views.panels.UnitCellPanel.set_basis_vectors" class="md-nav__link">
    <span class="md-ellipsis">
      set_basis_vectors
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ui-widgets" class="md-nav__link">
    <span class="md-ellipsis">
      UI Widgets
    </span>
  </a>
  
    <nav class="md-nav" aria-label="UI Widgets">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#TiBi.views.widgets.CheckableComboBox" class="md-nav__link">
    <span class="md-ellipsis">
      CheckableComboBox
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CheckableComboBox">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#TiBi.views.widgets.CheckableComboBox.checked_items" class="md-nav__link">
    <span class="md-ellipsis">
      checked_items
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#TiBi.views.widgets.CheckableComboBox.clear_selection" class="md-nav__link">
    <span class="md-ellipsis">
      clear_selection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#TiBi.views.widgets.CheckableComboBox.refresh_combo" class="md-nav__link">
    <span class="md-ellipsis">
      refresh_combo
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#TiBi.views.widgets.CheckableComboBox.select_all" class="md-nav__link">
    <span class="md-ellipsis">
      select_all
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#TiBi.views.widgets.EnterKeyIntSpinBox" class="md-nav__link">
    <span class="md-ellipsis">
      EnterKeyIntSpinBox
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#TiBi.views.widgets.EnterKeySpinBox" class="md-nav__link">
    <span class="md-ellipsis">
      EnterKeySpinBox
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#TiBi.views.widgets.SystemTree" class="md-nav__link">
    <span class="md-ellipsis">
      SystemTree
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SystemTree">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#TiBi.views.widgets.SystemTree.add_tree_item" class="md-nav__link">
    <span class="md-ellipsis">
      add_tree_item
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#TiBi.views.widgets.SystemTree.find_item_by_id" class="md-nav__link">
    <span class="md-ellipsis">
      find_item_by_id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#TiBi.views.widgets.SystemTree.refresh_tree" class="md-nav__link">
    <span class="md-ellipsis">
      refresh_tree
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#TiBi.views.widgets.SystemTree.remove_tree_item" class="md-nav__link">
    <span class="md-ellipsis">
      remove_tree_item
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#views" class="md-nav__link">
    <span class="md-ellipsis">
      Views
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Views">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#TiBi.views.BrillouinZonePlotView" class="md-nav__link">
    <span class="md-ellipsis">
      BrillouinZonePlotView
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#TiBi.views.ComputationView" class="md-nav__link">
    <span class="md-ellipsis">
      ComputationView
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#TiBi.views.MainToolbarView" class="md-nav__link">
    <span class="md-ellipsis">
      MainToolbarView
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MainToolbarView">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#TiBi.views.MainToolbarView.set_actions" class="md-nav__link">
    <span class="md-ellipsis">
      set_actions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#TiBi.views.MainWindow" class="md-nav__link">
    <span class="md-ellipsis">
      MainWindow
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#TiBi.views.MenuBarView" class="md-nav__link">
    <span class="md-ellipsis">
      MenuBarView
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MenuBarView">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#TiBi.views.MenuBarView.set_actions" class="md-nav__link">
    <span class="md-ellipsis">
      set_actions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#TiBi.views.PlotView" class="md-nav__link">
    <span class="md-ellipsis">
      PlotView
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#TiBi.views.ProgressDialog" class="md-nav__link">
    <span class="md-ellipsis">
      ProgressDialog
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ProgressDialog">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#TiBi.views.ProgressDialog.update_progress" class="md-nav__link">
    <span class="md-ellipsis">
      update_progress
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#TiBi.views.StatusBarView" class="md-nav__link">
    <span class="md-ellipsis">
      StatusBarView
    </span>
  </a>
  
    <nav class="md-nav" aria-label="StatusBarView">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#TiBi.views.StatusBarView.update_status" class="md-nav__link">
    <span class="md-ellipsis">
      update_status
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#TiBi.views.UnitCellPlotView" class="md-nav__link">
    <span class="md-ellipsis">
      UnitCellPlotView
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#TiBi.views.UnitCellView" class="md-nav__link">
    <span class="md-ellipsis">
      UnitCellView
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#panel-components" class="md-nav__link">
    <span class="md-ellipsis">
      Panel Components
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Panel Components">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#TiBi.views.panels.BandsPanel" class="md-nav__link">
    <span class="md-ellipsis">
      BandsPanel
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#TiBi.views.panels.hopping_panel.HoppingMatrix" class="md-nav__link">
    <span class="md-ellipsis">
      HoppingMatrix
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#TiBi.views.panels.HoppingPanel" class="md-nav__link">
    <span class="md-ellipsis">
      HoppingPanel
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#TiBi.views.panels.hopping_panel.HoppingTable" class="md-nav__link">
    <span class="md-ellipsis">
      HoppingTable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#TiBi.views.panels.SitePanel" class="md-nav__link">
    <span class="md-ellipsis">
      SitePanel
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#TiBi.views.panels.tree_view_panel.TreeDelegate" class="md-nav__link">
    <span class="md-ellipsis">
      TreeDelegate
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#TiBi.views.panels.TreeViewPanel" class="md-nav__link">
    <span class="md-ellipsis">
      TreeViewPanel
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#TiBi.views.panels.UnitCellPanel" class="md-nav__link">
    <span class="md-ellipsis">
      UnitCellPanel
    </span>
  </a>
  
    <nav class="md-nav" aria-label="UnitCellPanel">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#TiBi.views.panels.UnitCellPanel.set_basis_vectors" class="md-nav__link">
    <span class="md-ellipsis">
      set_basis_vectors
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ui-widgets" class="md-nav__link">
    <span class="md-ellipsis">
      UI Widgets
    </span>
  </a>
  
    <nav class="md-nav" aria-label="UI Widgets">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#TiBi.views.widgets.CheckableComboBox" class="md-nav__link">
    <span class="md-ellipsis">
      CheckableComboBox
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CheckableComboBox">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#TiBi.views.widgets.CheckableComboBox.checked_items" class="md-nav__link">
    <span class="md-ellipsis">
      checked_items
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#TiBi.views.widgets.CheckableComboBox.clear_selection" class="md-nav__link">
    <span class="md-ellipsis">
      clear_selection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#TiBi.views.widgets.CheckableComboBox.refresh_combo" class="md-nav__link">
    <span class="md-ellipsis">
      refresh_combo
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#TiBi.views.widgets.CheckableComboBox.select_all" class="md-nav__link">
    <span class="md-ellipsis">
      select_all
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#TiBi.views.widgets.EnterKeyIntSpinBox" class="md-nav__link">
    <span class="md-ellipsis">
      EnterKeyIntSpinBox
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#TiBi.views.widgets.EnterKeySpinBox" class="md-nav__link">
    <span class="md-ellipsis">
      EnterKeySpinBox
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#TiBi.views.widgets.SystemTree" class="md-nav__link">
    <span class="md-ellipsis">
      SystemTree
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SystemTree">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#TiBi.views.widgets.SystemTree.add_tree_item" class="md-nav__link">
    <span class="md-ellipsis">
      add_tree_item
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#TiBi.views.widgets.SystemTree.find_item_by_id" class="md-nav__link">
    <span class="md-ellipsis">
      find_item_by_id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#TiBi.views.widgets.SystemTree.refresh_tree" class="md-nav__link">
    <span class="md-ellipsis">
      refresh_tree
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#TiBi.views.widgets.SystemTree.remove_tree_item" class="md-nav__link">
    <span class="md-ellipsis">
      remove_tree_item
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


  <h1>Views</h1>

<p>This page provides the documentation for the views, panel components, and UI widgets.</p>
<h2 id="views">Views<a class="headerlink" href="#views" title="Permanent link">&para;</a></h2>


<div class="doc doc-object doc-class">



<h2 id="TiBi.views.BrillouinZonePlotView" class="doc doc-heading">
            <code>TiBi.views.BrillouinZonePlotView</code>


<a href="#TiBi.views.BrillouinZonePlotView" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="PySide6.QtWidgets.QWidget">QWidget</span></code></p>


        <p>A 3D visualization panel for Brillouin Zone using PyQtGraph's OpenGL.</p>
<p>Displays a Brillouin zone as a wireframe with vertices shown as small
spheres. The visualization supports rotation and zooming.</p>
<p>Features:
- Interactive 3D visualization with mouse rotation and zooming
- Colored axes representing the Cartesian coordinate system
- BZ visualization with wireframe boundaries
- High-symmetry points displayed as colored spheres
- Selected high-symmetry points highlighted with a different color</p>







              <details class="quote">
                <summary>Source code in <code>TiBi/views/bz_plot_view.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">BrillouinZonePlotView</span><span class="p">(</span><span class="n">QWidget</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A 3D visualization panel for Brillouin Zone using PyQtGraph&#39;s OpenGL.</span>

<span class="sd">    Displays a Brillouin zone as a wireframe with vertices shown as small</span>
<span class="sd">    spheres. The visualization supports rotation and zooming.</span>

<span class="sd">    Features:</span>
<span class="sd">    - Interactive 3D visualization with mouse rotation and zooming</span>
<span class="sd">    - Colored axes representing the Cartesian coordinate system</span>
<span class="sd">    - BZ visualization with wireframe boundaries</span>
<span class="sd">    - High-symmetry points displayed as colored spheres</span>
<span class="sd">    - Selected high-symmetry points highlighted with a different color</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setMinimumHeight</span><span class="p">(</span><span class="mi">150</span><span class="p">)</span>

        <span class="c1"># Colors</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">point_color</span> <span class="o">=</span> <span class="n">CF_BLUE</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_point_color</span> <span class="o">=</span> <span class="n">CF_YELLOW</span>

        <span class="c1"># Setup layout</span>
        <span class="n">layout</span> <span class="o">=</span> <span class="n">QVBoxLayout</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">layout</span><span class="o">.</span><span class="n">setContentsMargins</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

        <span class="c1"># Create 3D plot widget</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">view</span> <span class="o">=</span> <span class="n">gl</span><span class="o">.</span><span class="n">GLViewWidget</span><span class="p">()</span>
        <span class="c1"># Set almost-orthographic projection</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">view</span><span class="o">.</span><span class="n">opts</span><span class="p">[</span><span class="s2">&quot;distance&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2000</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">view</span><span class="o">.</span><span class="n">opts</span><span class="p">[</span><span class="s2">&quot;fov&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>  <span class="c1"># In degrees</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">view</span><span class="o">.</span><span class="n">setBackgroundColor</span><span class="p">(</span><span class="s2">&quot;k&quot;</span><span class="p">)</span>  <span class="c1"># Black background</span>

        <span class="c1"># Axes</span>
        <span class="n">axis_limit</span> <span class="o">=</span> <span class="mi">10</span>
        <span class="n">axes</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="o">-</span><span class="n">axis_limit</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="n">axis_limit</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]),</span>
            <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="n">axis_limit</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">axis_limit</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]),</span>
            <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="n">axis_limit</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">axis_limit</span><span class="p">]]),</span>
        <span class="p">]</span>
        <span class="k">for</span> <span class="n">ii</span><span class="p">,</span> <span class="n">color</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span>
            <span class="p">[</span>
                <span class="n">CF_VERMILLION</span><span class="p">,</span>
                <span class="n">CF_GREEN</span><span class="p">,</span>
                <span class="n">CF_SKY</span><span class="p">,</span>
            <span class="p">]</span>
        <span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">view</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span>
                <span class="n">gl</span><span class="o">.</span><span class="n">GLLinePlotItem</span><span class="p">(</span>
                    <span class="n">pos</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="n">ii</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">antialias</span><span class="o">=</span><span class="kc">True</span>
                <span class="p">)</span>
            <span class="p">)</span>

        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">view</span><span class="p">,</span> <span class="n">stretch</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="TiBi.views.ComputationView" class="doc doc-heading">
            <code>TiBi.views.ComputationView</code>


<a href="#TiBi.views.ComputationView" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="PySide6.QtWidgets.QWidget">QWidget</span></code></p>


        <p>A multi-tab view for setting up and managing computations.</p>
<p>This view contains the following panels:</p>
<ul>
<li>HoppintPanel: For managing hopping parameters</li>
<li>BandsPanel: For managing band structure and Brillouin grid calculations</li>
</ul>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="TiBi.views.ComputationView.hopping_panel">hopping_panel</span></code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="TiBi.views.panels.HoppingPanel" href="#TiBi.views.panels.HoppingPanel">HoppingPanel</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Panel for editing hopping parameters between states.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="TiBi.views.ComputationView.bands_panel">bands_panel</span></code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="TiBi.views.panels.BandsPanel" href="#TiBi.views.panels.BandsPanel">BandsPanel</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Panel for managing band and Brillouin grid calculations.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>







              <details class="quote">
                <summary>Source code in <code>TiBi/views/computation_view.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ComputationView</span><span class="p">(</span><span class="n">QWidget</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A multi-tab view for setting up and managing computations.</span>

<span class="sd">    This view contains the following panels:</span>

<span class="sd">    - HoppintPanel: For managing hopping parameters</span>
<span class="sd">    - BandsPanel: For managing band structure and Brillouin grid calculations</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    hopping_panel : HoppingPanel</span>
<span class="sd">        Panel for editing hopping parameters between states.</span>
<span class="sd">    bands_panel : BandsPanel</span>
<span class="sd">        Panel for managing band and Brillouin grid calculations.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>

        <span class="c1"># Create a layout for the TabView itself</span>
        <span class="n">layout</span> <span class="o">=</span> <span class="n">QVBoxLayout</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">layout</span><span class="o">.</span><span class="n">setContentsMargins</span><span class="p">(</span>
            <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span>
        <span class="p">)</span>  <span class="c1"># Remove margins to maximize space</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hopping_panel</span> <span class="o">=</span> <span class="n">HoppingPanel</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bands_panel</span> <span class="o">=</span> <span class="n">BandsPanel</span><span class="p">()</span>

        <span class="c1"># Wrap each panel in scroll area</span>
        <span class="n">hopping_scroll</span> <span class="o">=</span> <span class="n">QScrollArea</span><span class="p">()</span>
        <span class="n">hopping_scroll</span><span class="o">.</span><span class="n">setWidgetResizable</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">hopping_scroll</span><span class="o">.</span><span class="n">setSizePolicy</span><span class="p">(</span>
            <span class="n">QSizePolicy</span><span class="o">.</span><span class="n">Expanding</span><span class="p">,</span> <span class="n">QSizePolicy</span><span class="o">.</span><span class="n">Expanding</span>
        <span class="p">)</span>
        <span class="n">hopping_scroll</span><span class="o">.</span><span class="n">setWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hopping_panel</span><span class="p">)</span>

        <span class="n">bands_scroll</span> <span class="o">=</span> <span class="n">QScrollArea</span><span class="p">()</span>
        <span class="n">bands_scroll</span><span class="o">.</span><span class="n">setWidgetResizable</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">bands_scroll</span><span class="o">.</span><span class="n">setSizePolicy</span><span class="p">(</span>
            <span class="n">QSizePolicy</span><span class="o">.</span><span class="n">Expanding</span><span class="p">,</span> <span class="n">QSizePolicy</span><span class="o">.</span><span class="n">Expanding</span>
        <span class="p">)</span>
        <span class="n">bands_scroll</span><span class="o">.</span><span class="n">setWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bands_panel</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">tabs</span> <span class="o">=</span> <span class="n">QTabWidget</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tabs</span><span class="o">.</span><span class="n">setSizePolicy</span><span class="p">(</span><span class="n">QSizePolicy</span><span class="o">.</span><span class="n">Expanding</span><span class="p">,</span> <span class="n">QSizePolicy</span><span class="o">.</span><span class="n">Expanding</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tabs</span><span class="o">.</span><span class="n">addTab</span><span class="p">(</span><span class="n">hopping_scroll</span><span class="p">,</span> <span class="s2">&quot;Hopping&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tabs</span><span class="o">.</span><span class="n">addTab</span><span class="p">(</span><span class="n">bands_scroll</span><span class="p">,</span> <span class="s2">&quot;Bands&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tabs</span><span class="o">.</span><span class="n">setTabPosition</span><span class="p">(</span><span class="n">QTabWidget</span><span class="o">.</span><span class="n">East</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tabs</span><span class="o">.</span><span class="n">setDocumentMode</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tabs</span><span class="p">)</span>

        <span class="c1"># Set the layout for this widget</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setLayout</span><span class="p">(</span><span class="n">layout</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="TiBi.views.MainToolbarView" class="doc doc-heading">
            <code>TiBi.views.MainToolbarView</code>


<a href="#TiBi.views.MainToolbarView" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="PySide6.QtWidgets.QToolBar">QToolBar</span></code></p>


        <p>Main toolbar view that contains application-wide actions.</p>
<p>This class is a view component that provides a toolbar with common actions
such as creating new unit cells, saving/loading projects, etc.</p>
<p>It does not create actions itself, receiving them from an action manager.</p>







              <details class="quote">
                <summary>Source code in <code>TiBi/views/main_toolbar_view.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">MainToolbarView</span><span class="p">(</span><span class="n">QToolBar</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Main toolbar view that contains application-wide actions.</span>

<span class="sd">    This class is a view component that provides a toolbar with common actions</span>
<span class="sd">    such as creating new unit cells, saving/loading projects, etc.</span>

<span class="sd">    It does not create actions itself, receiving them from an action manager.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="s2">&quot;Main Toolbar&quot;</span><span class="p">)</span>

        <span class="c1"># Allow the toolbar to be moved by the user</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setMovable</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">set_actions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">action_manager</span><span class="p">:</span> <span class="n">ActionManager</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set actions from the action manager to the toolbar.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        action_manager : ActionManager</span>
<span class="sd">            ActionManager instance containing all actions to be added.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Add File actions</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">action_manager</span><span class="o">.</span><span class="n">file_actions</span><span class="p">[</span><span class="s2">&quot;new_project&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">action_manager</span><span class="o">.</span><span class="n">file_actions</span><span class="p">[</span><span class="s2">&quot;open_project&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">action_manager</span><span class="o">.</span><span class="n">file_actions</span><span class="p">[</span><span class="s2">&quot;import_project&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">action_manager</span><span class="o">.</span><span class="n">file_actions</span><span class="p">[</span><span class="s2">&quot;save_project&quot;</span><span class="p">])</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">addSeparator</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">action_manager</span><span class="o">.</span><span class="n">undo_redo_actions</span><span class="p">[</span><span class="s2">&quot;undo&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">action_manager</span><span class="o">.</span><span class="n">undo_redo_actions</span><span class="p">[</span><span class="s2">&quot;redo&quot;</span><span class="p">])</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">addSeparator</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">action_manager</span><span class="o">.</span><span class="n">unit_cell_actions</span><span class="p">[</span><span class="s2">&quot;wireframe&quot;</span><span class="p">])</span>
        <span class="c1"># Add the grouped spinboxes</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_create_uc_spinbox_group</span><span class="p">())</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_create_uc_spinbox_group</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a grouped widget containing spinboxes for unit cell repetitions.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">group_widget</span> <span class="o">=</span> <span class="n">QWidget</span><span class="p">()</span>
        <span class="n">layout</span> <span class="o">=</span> <span class="n">QHBoxLayout</span><span class="p">(</span><span class="n">group_widget</span><span class="p">)</span>
        <span class="n">layout</span><span class="o">.</span><span class="n">setContentsMargins</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>  <span class="c1"># Remove padding to fit nicely</span>
        <span class="n">layout</span><span class="o">.</span><span class="n">setSpacing</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>  <span class="c1"># Small spacing between spinboxes and labels</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">n1_spinbox</span> <span class="o">=</span> <span class="n">QSpinBox</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">n2_spinbox</span> <span class="o">=</span> <span class="n">QSpinBox</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">n3_spinbox</span> <span class="o">=</span> <span class="n">QSpinBox</span><span class="p">()</span>

        <span class="k">for</span> <span class="n">ii</span><span class="p">,</span> <span class="n">spinbox</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span>
            <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">n1_spinbox</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">n2_spinbox</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">n3_spinbox</span><span class="p">]</span>
        <span class="p">):</span>
            <span class="n">spinbox</span><span class="o">.</span><span class="n">setRange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
            <span class="n">spinbox</span><span class="o">.</span><span class="n">setFixedWidth</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
            <span class="n">spinbox</span><span class="o">.</span><span class="n">setToolTip</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Along v&lt;sub&gt;</span><span class="si">{</span><span class="n">ii</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">&lt;/sub&gt;&quot;</span><span class="p">)</span>
            <span class="n">spinbox</span><span class="o">.</span><span class="n">setStatusTip</span><span class="p">(</span><span class="s2">&quot;Number of unit cells&quot;</span><span class="p">)</span>
            <span class="n">spinbox</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>

        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;n&lt;sub&gt;1&lt;/sub&gt;:&quot;</span><span class="p">))</span>
        <span class="c1"># layout.addWidget(QLabel(&quot;n\u2081:&quot;))</span>
        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">n1_spinbox</span><span class="p">)</span>
        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;n&lt;sub&gt;2&lt;/sub&gt;:&quot;</span><span class="p">))</span>
        <span class="c1"># layout.addWidget(QLabel(&quot;n\u2082:&quot;))</span>
        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">n2_spinbox</span><span class="p">)</span>
        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;n&lt;sub&gt;3&lt;/sub&gt;:&quot;</span><span class="p">))</span>
        <span class="c1"># layout.addWidget(QLabel(&quot;n\u2083:&quot;))</span>
        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">n3_spinbox</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">group_widget</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="TiBi.views.MainToolbarView.set_actions" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_actions</span><span class="p">(</span><span class="n">action_manager</span><span class="p">)</span></code>

<a href="#TiBi.views.MainToolbarView.set_actions" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Set actions from the action manager to the toolbar.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>action_manager</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="TiBi.ui.actions.ActionManager" href="../ui/#TiBi.ui.actions.ActionManager">ActionManager</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>ActionManager instance containing all actions to be added.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>TiBi/views/main_toolbar_view.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">set_actions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">action_manager</span><span class="p">:</span> <span class="n">ActionManager</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Set actions from the action manager to the toolbar.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    action_manager : ActionManager</span>
<span class="sd">        ActionManager instance containing all actions to be added.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Add File actions</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">action_manager</span><span class="o">.</span><span class="n">file_actions</span><span class="p">[</span><span class="s2">&quot;new_project&quot;</span><span class="p">])</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">action_manager</span><span class="o">.</span><span class="n">file_actions</span><span class="p">[</span><span class="s2">&quot;open_project&quot;</span><span class="p">])</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">action_manager</span><span class="o">.</span><span class="n">file_actions</span><span class="p">[</span><span class="s2">&quot;import_project&quot;</span><span class="p">])</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">action_manager</span><span class="o">.</span><span class="n">file_actions</span><span class="p">[</span><span class="s2">&quot;save_project&quot;</span><span class="p">])</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">addSeparator</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">action_manager</span><span class="o">.</span><span class="n">undo_redo_actions</span><span class="p">[</span><span class="s2">&quot;undo&quot;</span><span class="p">])</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">action_manager</span><span class="o">.</span><span class="n">undo_redo_actions</span><span class="p">[</span><span class="s2">&quot;redo&quot;</span><span class="p">])</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">addSeparator</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">action_manager</span><span class="o">.</span><span class="n">unit_cell_actions</span><span class="p">[</span><span class="s2">&quot;wireframe&quot;</span><span class="p">])</span>
    <span class="c1"># Add the grouped spinboxes</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_create_uc_spinbox_group</span><span class="p">())</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="TiBi.views.MainWindow" class="doc doc-heading">
            <code>TiBi.views.MainWindow</code>


<a href="#TiBi.views.MainWindow" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="PySide6.QtWidgets.QMainWindow">QMainWindow</span></code></p>


        <p>Main application window that defines the UI layout.</p>
<p>This class is purely a view component that arranges the UI elements and
doesn't contain business logic or model manipulation. It creates a
four-column layout for organizing the different components of the
application, along with menu bar, toolbar, and status bar.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="TiBi.views.MainWindow.uc">uc</span></code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="TiBi.views.UnitCellView (TiBi.views.uc_view.UnitCellView)" href="#TiBi.views.UnitCellView">UnitCellView</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Unit cell editor view</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="TiBi.views.MainWindow.uc_plot">uc_plot</span></code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="TiBi.views.UnitCellPlotView (TiBi.views.uc_plot_view.UnitCellPlotView)" href="#TiBi.views.UnitCellPlotView">UnitCellPlotView</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Unit cell 3D visualization view</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="TiBi.views.MainWindow.bz_plot">bz_plot</span></code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="TiBi.views.BrillouinZonePlotView (TiBi.views.bz_plot_view.BrillouinZonePlotView)" href="#TiBi.views.BrillouinZonePlotView">BrillouinZonePlotView</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Brillouin zone 3D visualization view</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="TiBi.views.MainWindow.plot">plot</span></code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="TiBi.views.PlotView (TiBi.views.plot_view.PlotView)" href="#TiBi.views.PlotView">PlotView</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>2D plot view</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="TiBi.views.MainWindow.computation">computation</span></code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="TiBi.views.ComputationView (TiBi.views.computation_view.ComputationView)" href="#TiBi.views.ComputationView">ComputationView</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Multi-tab view used to set up calculations</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="TiBi.views.MainWindow.window_closed">window_closed</span></code></td>
            <td>
                  <code><span title="PySide6.QtCore.Signal">Signal</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Signals the main app to run the cleanup procedure</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>







              <details class="quote">
                <summary>Source code in <code>TiBi/views/main_window.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">MainWindow</span><span class="p">(</span><span class="n">QMainWindow</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Main application window that defines the UI layout.</span>

<span class="sd">    This class is purely a view component that arranges the UI elements and</span>
<span class="sd">    doesn&#39;t contain business logic or model manipulation. It creates a</span>
<span class="sd">    four-column layout for organizing the different components of the</span>
<span class="sd">    application, along with menu bar, toolbar, and status bar.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    uc : UnitCellView</span>
<span class="sd">        Unit cell editor view</span>
<span class="sd">    uc_plot : UnitCellPlotView</span>
<span class="sd">        Unit cell 3D visualization view</span>
<span class="sd">    bz_plot : BrillouinZonePlotView</span>
<span class="sd">        Brillouin zone 3D visualization view</span>
<span class="sd">    plot : PlotView</span>
<span class="sd">        2D plot view</span>
<span class="sd">    computation : ComputationView</span>
<span class="sd">        Multi-tab view used to set up calculations</span>
<span class="sd">    window_closed : Signal</span>
<span class="sd">        Signals the main app to run the cleanup procedure</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">window_closed</span> <span class="o">=</span> <span class="n">Signal</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">uc</span><span class="p">:</span> <span class="n">UnitCellView</span><span class="p">,</span>
        <span class="n">uc_plot</span><span class="p">:</span> <span class="n">UnitCellPlotView</span><span class="p">,</span>
        <span class="n">bz_plot</span><span class="p">:</span> <span class="n">BrillouinZonePlotView</span><span class="p">,</span>
        <span class="n">plot</span><span class="p">:</span> <span class="n">PlotView</span><span class="p">,</span>
        <span class="n">computation_view</span><span class="p">:</span> <span class="n">ComputationView</span><span class="p">,</span>
        <span class="n">menu_bar</span><span class="p">:</span> <span class="n">MenuBarView</span><span class="p">,</span>
        <span class="n">toolbar</span><span class="p">:</span> <span class="n">MainToolbarView</span><span class="p">,</span>
        <span class="n">status_bar</span><span class="p">:</span> <span class="n">StatusBarView</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s2">&quot;TiBi&quot;</span><span class="p">)</span>
        <span class="c1"># self.setMinimumSize(1100, 825)</span>

        <span class="c1"># Store references to UI components</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">uc</span> <span class="o">=</span> <span class="n">uc</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">uc_plot</span> <span class="o">=</span> <span class="n">uc_plot</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bz_plot</span> <span class="o">=</span> <span class="n">bz_plot</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">plot</span> <span class="o">=</span> <span class="n">plot</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">computation_view</span> <span class="o">=</span> <span class="n">computation_view</span>

        <span class="c1"># Set menu bar</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setMenuBar</span><span class="p">(</span><span class="n">menu_bar</span><span class="p">)</span>
        <span class="c1"># Add toolbar</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addToolBar</span><span class="p">(</span><span class="n">toolbar</span><span class="p">)</span>
        <span class="c1"># Set status bar</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setStatusBar</span><span class="p">(</span><span class="n">status_bar</span><span class="p">)</span>

        <span class="c1"># Main Layout</span>
        <span class="n">main_view</span> <span class="o">=</span> <span class="n">QWidget</span><span class="p">()</span>
        <span class="n">main_layout</span> <span class="o">=</span> <span class="n">QHBoxLayout</span><span class="p">(</span><span class="n">main_view</span><span class="p">)</span>

        <span class="c1"># Create three column Layouts and wrap them into Widgets</span>
        <span class="c1"># UnitCell geometry and Sites</span>
        <span class="n">unit_cell_layout</span> <span class="o">=</span> <span class="n">QVBoxLayout</span><span class="p">()</span>
        <span class="n">unit_cell_layout</span><span class="o">.</span><span class="n">setContentsMargins</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">unit_cell_widget</span> <span class="o">=</span> <span class="n">QWidget</span><span class="p">()</span>
        <span class="n">unit_cell_widget</span><span class="o">.</span><span class="n">setLayout</span><span class="p">(</span><span class="n">unit_cell_layout</span><span class="p">)</span>
        <span class="n">unit_cell_widget</span><span class="o">.</span><span class="n">setSizePolicy</span><span class="p">(</span>
            <span class="n">QSizePolicy</span><span class="o">.</span><span class="n">Fixed</span><span class="p">,</span> <span class="n">QSizePolicy</span><span class="o">.</span><span class="n">Expanding</span>
        <span class="p">)</span>
        <span class="n">unit_cell_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_frame_widget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">uc</span><span class="p">))</span>

        <span class="c1"># Computation controls and BZ</span>
        <span class="n">computation_layout</span> <span class="o">=</span> <span class="n">QVBoxLayout</span><span class="p">()</span>
        <span class="n">computation_layout</span><span class="o">.</span><span class="n">setContentsMargins</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

        <span class="n">computation_widget</span> <span class="o">=</span> <span class="n">QWidget</span><span class="p">()</span>
        <span class="n">computation_widget</span><span class="o">.</span><span class="n">setLayout</span><span class="p">(</span><span class="n">computation_layout</span><span class="p">)</span>
        <span class="n">computation_widget</span><span class="o">.</span><span class="n">setSizePolicy</span><span class="p">(</span>
            <span class="n">QSizePolicy</span><span class="o">.</span><span class="n">Fixed</span><span class="p">,</span> <span class="n">QSizePolicy</span><span class="o">.</span><span class="n">Expanding</span>
        <span class="p">)</span>

        <span class="c1"># Set fixed height for computation_view</span>
        <span class="n">computation_splitter</span> <span class="o">=</span> <span class="n">QSplitter</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">Vertical</span><span class="p">)</span>
        <span class="n">inner_height</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">computation_view</span><span class="o">.</span><span class="n">bands_panel</span><span class="o">.</span><span class="n">sizeHint</span><span class="p">()</span><span class="o">.</span><span class="n">height</span><span class="p">(),</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">computation_view</span><span class="o">.</span><span class="n">hopping_panel</span><span class="o">.</span><span class="n">sizeHint</span><span class="p">()</span><span class="o">.</span><span class="n">height</span><span class="p">(),</span>
        <span class="p">)</span>
        <span class="n">margin_buffer</span> <span class="o">=</span> <span class="mi">20</span>  <span class="c1"># adjust if needed</span>
        <span class="n">max_height</span> <span class="o">=</span> <span class="n">inner_height</span> <span class="o">+</span> <span class="n">margin_buffer</span>

        <span class="n">computation_view_framed</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_frame_widget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">computation_view</span><span class="p">)</span>
        <span class="n">computation_view_framed</span><span class="o">.</span><span class="n">setMaximumHeight</span><span class="p">(</span><span class="n">max_height</span><span class="p">)</span>
        <span class="n">computation_view_framed</span><span class="o">.</span><span class="n">setSizePolicy</span><span class="p">(</span>
            <span class="n">QSizePolicy</span><span class="o">.</span><span class="n">Preferred</span><span class="p">,</span> <span class="n">QSizePolicy</span><span class="o">.</span><span class="n">Preferred</span>
        <span class="p">)</span>

        <span class="n">computation_splitter</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_frame_widget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bz_plot</span><span class="p">))</span>
        <span class="n">computation_splitter</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">computation_view_framed</span><span class="p">)</span>

        <span class="c1"># Disable expansion of computation_view</span>
        <span class="n">computation_splitter</span><span class="o">.</span><span class="n">setStretchFactor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">computation_splitter</span><span class="o">.</span><span class="n">setStretchFactor</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

        <span class="n">computation_splitter</span><span class="o">.</span><span class="n">setCollapsible</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
        <span class="n">computation_splitter</span><span class="o">.</span><span class="n">setCollapsible</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

        <span class="c1"># Prevent computation_view from growing too large</span>
        <span class="n">computation_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">computation_splitter</span><span class="p">)</span>

        <span class="c1"># UC 3D plot and results plots</span>
        <span class="n">plots_splitter</span> <span class="o">=</span> <span class="n">QSplitter</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">Vertical</span><span class="p">)</span>
        <span class="n">plots_splitter</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_frame_widget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">uc_plot</span><span class="p">)</span>
        <span class="p">)</span>  <span class="c1"># Top 3D plot</span>
        <span class="n">plots_splitter</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_frame_widget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">plot</span><span class="p">)</span>
        <span class="p">)</span>  <span class="c1"># Bottom 2D plot</span>

        <span class="c1"># Set initial size ratio</span>
        <span class="n">plots_splitter</span><span class="o">.</span><span class="n">setSizes</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
        <span class="c1"># Prevent the panels from collapsing</span>
        <span class="n">plots_splitter</span><span class="o">.</span><span class="n">setCollapsible</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
        <span class="n">plots_splitter</span><span class="o">.</span><span class="n">setCollapsible</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

        <span class="n">main_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">unit_cell_widget</span><span class="p">)</span>
        <span class="n">main_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">computation_widget</span><span class="p">)</span>
        <span class="n">main_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">plots_splitter</span><span class="p">)</span>
        <span class="c1"># Set as central widget</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setCentralWidget</span><span class="p">(</span><span class="n">main_view</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">closeEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="c1"># Override the parent class closeEvent to emit a signal on closing.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">window_closed</span><span class="o">.</span><span class="n">emit</span><span class="p">()</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">closeEvent</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_frame_widget</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">:</span> <span class="n">QWidget</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">QFrame</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Enclose a widget in a frame.</span>

<span class="sd">        Used to make the layout look more structured.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">frame</span> <span class="o">=</span> <span class="n">QFrame</span><span class="p">()</span>
        <span class="n">frame</span><span class="o">.</span><span class="n">setFrameShape</span><span class="p">(</span><span class="n">QFrame</span><span class="o">.</span><span class="n">Box</span><span class="p">)</span>
        <span class="n">frame</span><span class="o">.</span><span class="n">setLineWidth</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">layout</span> <span class="o">=</span> <span class="n">QVBoxLayout</span><span class="p">()</span>
        <span class="n">layout</span><span class="o">.</span><span class="n">setContentsMargins</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="n">stretch</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">frame</span><span class="o">.</span><span class="n">setLayout</span><span class="p">(</span><span class="n">layout</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">frame</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="TiBi.views.MenuBarView" class="doc doc-heading">
            <code>TiBi.views.MenuBarView</code>


<a href="#TiBi.views.MenuBarView" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="PySide6.QtWidgets.QMenuBar">QMenuBar</span></code></p>


        <p>Menu bar view that provides access to application features.</p>
<p>This class is a view component that organizes application actions
into menus, providing a standard way to access all functionality.</p>
<p>It does not create actions itself, receiving them from an action manager.</p>


<p><span class="doc-section-title">Methods:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="set_actions(action_manager) (TiBi.views.MenuBarView.set_actions)" href="#TiBi.views.MenuBarView.set_actions">set_actions</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Set actions from the action manager to the appropriate menus.</p>
                </div>
              </td>
            </tr>
      </tbody>
    </table>







              <details class="quote">
                <summary>Source code in <code>TiBi/views/menu_bar_view.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">MenuBarView</span><span class="p">(</span><span class="n">QMenuBar</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Menu bar view that provides access to application features.</span>

<span class="sd">    This class is a view component that organizes application actions</span>
<span class="sd">    into menus, providing a standard way to access all functionality.</span>

<span class="sd">    It does not create actions itself, receiving them from an action manager.</span>

<span class="sd">    Methods</span>
<span class="sd">    -------</span>
<span class="sd">    set_actions(action_manager: ActionManager)</span>
<span class="sd">        Set actions from the action manager to the appropriate menus.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>

        <span class="c1"># Create empty menus</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_menu</span> <span class="o">=</span> <span class="n">QMenu</span><span class="p">(</span><span class="s2">&quot;&amp;File&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">edit_menu</span> <span class="o">=</span> <span class="n">QMenu</span><span class="p">(</span><span class="s2">&quot;&amp;Edit&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">view_menu</span> <span class="o">=</span> <span class="n">QMenu</span><span class="p">(</span><span class="s2">&quot;&amp;View&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">computation_menu</span> <span class="o">=</span> <span class="n">QMenu</span><span class="p">(</span><span class="s2">&quot;&amp;Computation&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">help_menu</span> <span class="o">=</span> <span class="n">QMenu</span><span class="p">(</span><span class="s2">&quot;&amp;Help&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>

        <span class="c1"># Add menus to the menu bar</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addMenu</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">file_menu</span><span class="p">)</span>
        <span class="c1"># self.addMenu(self.edit_menu)</span>
        <span class="c1"># self.addMenu(self.view_menu)</span>
        <span class="c1"># self.addMenu(self.computation_menu)</span>
        <span class="c1"># self.addMenu(self.help_menu)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">set_actions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">action_manager</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set actions from the action manager to the appropriate menus.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        action_manager : ActionManager</span>
<span class="sd">            ActionManager instance containing all actions to be added.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Populate File menu</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_menu</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">action_manager</span><span class="o">.</span><span class="n">file_actions</span><span class="p">[</span><span class="s2">&quot;new_project&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_menu</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">action_manager</span><span class="o">.</span><span class="n">file_actions</span><span class="p">[</span><span class="s2">&quot;open_project&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_menu</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">action_manager</span><span class="o">.</span><span class="n">file_actions</span><span class="p">[</span><span class="s2">&quot;import_project&quot;</span><span class="p">])</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">file_menu</span><span class="o">.</span><span class="n">addSeparator</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_menu</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">action_manager</span><span class="o">.</span><span class="n">file_actions</span><span class="p">[</span><span class="s2">&quot;save_project&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_menu</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span>
            <span class="n">action_manager</span><span class="o">.</span><span class="n">file_actions</span><span class="p">[</span><span class="s2">&quot;save_project_as&quot;</span><span class="p">]</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="TiBi.views.MenuBarView.set_actions" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_actions</span><span class="p">(</span><span class="n">action_manager</span><span class="p">)</span></code>

<a href="#TiBi.views.MenuBarView.set_actions" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Set actions from the action manager to the appropriate menus.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>action_manager</code>
            </td>
            <td>
                  <code><span title="ActionManager">ActionManager</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>ActionManager instance containing all actions to be added.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>TiBi/views/menu_bar_view.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">set_actions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">action_manager</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Set actions from the action manager to the appropriate menus.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    action_manager : ActionManager</span>
<span class="sd">        ActionManager instance containing all actions to be added.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Populate File menu</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">file_menu</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">action_manager</span><span class="o">.</span><span class="n">file_actions</span><span class="p">[</span><span class="s2">&quot;new_project&quot;</span><span class="p">])</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">file_menu</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">action_manager</span><span class="o">.</span><span class="n">file_actions</span><span class="p">[</span><span class="s2">&quot;open_project&quot;</span><span class="p">])</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">file_menu</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">action_manager</span><span class="o">.</span><span class="n">file_actions</span><span class="p">[</span><span class="s2">&quot;import_project&quot;</span><span class="p">])</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">file_menu</span><span class="o">.</span><span class="n">addSeparator</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">file_menu</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">action_manager</span><span class="o">.</span><span class="n">file_actions</span><span class="p">[</span><span class="s2">&quot;save_project&quot;</span><span class="p">])</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">file_menu</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span>
        <span class="n">action_manager</span><span class="o">.</span><span class="n">file_actions</span><span class="p">[</span><span class="s2">&quot;save_project_as&quot;</span><span class="p">]</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="TiBi.views.PlotView" class="doc doc-heading">
            <code>TiBi.views.PlotView</code>


<a href="#TiBi.views.PlotView" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="PySide6.QtWidgets.QWidget">QWidget</span></code></p>


        <p>Widget for displaying 2D plots.</p>
<p>This widget creates a matplotlib figure embedded in a Qt widget to display
data as 2D plots. It includes navigation controls for zooming, panning,
and saving the plot.</p>







              <details class="quote">
                <summary>Source code in <code>TiBi/views/plot_view.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">PlotView</span><span class="p">(</span><span class="n">QWidget</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Widget for displaying 2D plots.</span>

<span class="sd">    This widget creates a matplotlib figure embedded in a Qt widget to display</span>
<span class="sd">    data as 2D plots. It includes navigation controls for zooming, panning,</span>
<span class="sd">    and saving the plot.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setMinimumHeight</span><span class="p">(</span><span class="mi">150</span><span class="p">)</span>

        <span class="c1"># Setup layout</span>
        <span class="n">layout</span> <span class="o">=</span> <span class="n">QVBoxLayout</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">layout</span><span class="o">.</span><span class="n">setContentsMargins</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

        <span class="c1"># Matplotlib Figure</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">figure</span> <span class="o">=</span> <span class="n">mpl_fig</span><span class="o">.</span><span class="n">Figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span> <span class="o">=</span> <span class="n">FigureCanvas</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">figure</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">toolbar</span> <span class="o">=</span> <span class="n">NavigationToolbar</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">toolbar</span><span class="o">.</span><span class="n">setIconSize</span><span class="p">(</span><span class="n">QSize</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">))</span>

        <span class="c1"># Add widgets to layout</span>
        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">toolbar</span><span class="p">)</span>
        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="p">,</span> <span class="n">stretch</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

        <span class="c1"># Initialize plot</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ax</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

        <span class="c1"># Initial draw</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="TiBi.views.ProgressDialog" class="doc doc-heading">
            <code>TiBi.views.ProgressDialog</code>


<a href="#TiBi.views.ProgressDialog" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="PySide6.QtWidgets.QDialog">QDialog</span></code></p>


        <p>A modal that displays a progress bar and a cancel button.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="TiBi.views.ProgressDialog.cancel_requested">cancel_requested</span></code></td>
            <td>
                  <code><span title="PySide6.QtCore.Signal">Signal</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Signal emitted when the cancel button is clicked.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Methods:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="update_progress(value) (TiBi.views.ProgressDialog.update_progress)" href="#TiBi.views.ProgressDialog.update_progress">update_progress</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Updates the progress bar with the given value.</p>
                </div>
              </td>
            </tr>
      </tbody>
    </table>







              <details class="quote">
                <summary>Source code in <code>TiBi/views/progress_dialog.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ProgressDialog</span><span class="p">(</span><span class="n">QDialog</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A modal that displays a progress bar and a cancel button.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    cancel_requested : Signal</span>
<span class="sd">        Signal emitted when the cancel button is clicked.</span>

<span class="sd">    Methods</span>
<span class="sd">    -------</span>
<span class="sd">    update_progress(value: int)</span>
<span class="sd">        Updates the progress bar with the given value.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">cancel_requested</span> <span class="o">=</span> <span class="n">Signal</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">parent</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s2">&quot;Working...&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setModal</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">progress_bar</span> <span class="o">=</span> <span class="n">QProgressBar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">progress_bar</span><span class="o">.</span><span class="n">setRange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cancel_button</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;Cancel&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cancel_button</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cancel_requested</span><span class="o">.</span><span class="n">emit</span><span class="p">)</span>

        <span class="n">layout</span> <span class="o">=</span> <span class="n">QVBoxLayout</span><span class="p">()</span>
        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">)</span>
        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cancel_button</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setLayout</span><span class="p">(</span><span class="n">layout</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">update_progress</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Update the progress bar with the given value.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">progress_bar</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="TiBi.views.ProgressDialog.update_progress" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">update_progress</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></code>

<a href="#TiBi.views.ProgressDialog.update_progress" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Update the progress bar with the given value.</p>


            <details class="quote">
              <summary>Source code in <code>TiBi/views/progress_dialog.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">update_progress</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Update the progress bar with the given value.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">progress_bar</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="TiBi.views.StatusBarView" class="doc doc-heading">
            <code>TiBi.views.StatusBarView</code>


<a href="#TiBi.views.StatusBarView" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="PySide6.QtWidgets.QStatusBar">QStatusBar</span></code></p>


        <p>Status bar view that displays application status information.</p>
<p>This class is a view component that shows messages to the user.</p>


<p><span class="doc-section-title">Methods:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="update_status(text) (TiBi.views.StatusBarView.update_status)" href="#TiBi.views.StatusBarView.update_status">update_status</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Update the status label.</p>
                </div>
              </td>
            </tr>
      </tbody>
    </table>







              <details class="quote">
                <summary>Source code in <code>TiBi/views/status_bar_view.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">StatusBarView</span><span class="p">(</span><span class="n">QStatusBar</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Status bar view that displays application status information.</span>

<span class="sd">    This class is a view component that shows messages to the user.</span>

<span class="sd">    Methods</span>
<span class="sd">    -------</span>
<span class="sd">    update_status(text: str)</span>
<span class="sd">        Update the status label.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>

        <span class="c1"># Create a permanent status label</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">status_label</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;Ready&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addPermanentWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">status_label</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">update_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Update the status label.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        text : str</span>
<span class="sd">            New status text to display</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">status_label</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="TiBi.views.StatusBarView.update_status" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">update_status</span><span class="p">(</span><span class="n">text</span><span class="p">)</span></code>

<a href="#TiBi.views.StatusBarView.update_status" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Update the status label.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>text</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>New status text to display</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>TiBi/views/status_bar_view.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">update_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Update the status label.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    text : str</span>
<span class="sd">        New status text to display</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">status_label</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="TiBi.views.UnitCellPlotView" class="doc doc-heading">
            <code>TiBi.views.UnitCellPlotView</code>


<a href="#TiBi.views.UnitCellPlotView" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="PySide6.QtWidgets.QWidget">QWidget</span></code></p>


        <p>A 3D visualization panel for <code>UnitCell</code> using PyQtGraph's OpenGL support.</p>
<p>Displays a unit cell as a wireframe parallelepiped with sites as spheres.
The visualization supports rotation and zooming.</p>
<p>Features:
- Interactive 3D visualization with mouse rotation and zooming
- Colored axes representing the Cartesian coordinate system
- Unit cell visualization with wireframe parallelepiped
- Sites displayed as colored spheres at their fractional positions
- Selected sites highlighted with an increased size</p>







              <details class="quote">
                <summary>Source code in <code>TiBi/views/uc_plot_view.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">UnitCellPlotView</span><span class="p">(</span><span class="n">QWidget</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A 3D visualization panel for `UnitCell` using PyQtGraph&#39;s OpenGL support.</span>

<span class="sd">    Displays a unit cell as a wireframe parallelepiped with sites as spheres.</span>
<span class="sd">    The visualization supports rotation and zooming.</span>

<span class="sd">    Features:</span>
<span class="sd">    - Interactive 3D visualization with mouse rotation and zooming</span>
<span class="sd">    - Colored axes representing the Cartesian coordinate system</span>
<span class="sd">    - Unit cell visualization with wireframe parallelepiped</span>
<span class="sd">    - Sites displayed as colored spheres at their fractional positions</span>
<span class="sd">    - Selected sites highlighted with an increased size</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setMinimumHeight</span><span class="p">(</span><span class="mi">150</span><span class="p">)</span>

        <span class="c1"># Setup layout</span>
        <span class="n">layout</span> <span class="o">=</span> <span class="n">QVBoxLayout</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">layout</span><span class="o">.</span><span class="n">setContentsMargins</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

        <span class="c1"># Create 3D plot widget</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">view</span> <span class="o">=</span> <span class="n">gl</span><span class="o">.</span><span class="n">GLViewWidget</span><span class="p">()</span>
        <span class="c1"># Set almost-orthographic projection</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">view</span><span class="o">.</span><span class="n">opts</span><span class="p">[</span><span class="s2">&quot;distance&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2000</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">view</span><span class="o">.</span><span class="n">opts</span><span class="p">[</span><span class="s2">&quot;fov&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>  <span class="c1"># In degrees</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">view</span><span class="o">.</span><span class="n">setBackgroundColor</span><span class="p">(</span><span class="s2">&quot;k&quot;</span><span class="p">)</span>  <span class="c1"># Black background</span>

        <span class="c1"># Axes</span>
        <span class="n">axis_limit</span> <span class="o">=</span> <span class="mi">10</span>
        <span class="n">axes</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="o">-</span><span class="n">axis_limit</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="n">axis_limit</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]),</span>
            <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="n">axis_limit</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">axis_limit</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]),</span>
            <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="n">axis_limit</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">axis_limit</span><span class="p">]]),</span>
        <span class="p">]</span>
        <span class="k">for</span> <span class="n">ii</span><span class="p">,</span> <span class="n">color</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span>
            <span class="p">[</span>
                <span class="n">CF_VERMILLION</span><span class="p">,</span>
                <span class="n">CF_GREEN</span><span class="p">,</span>
                <span class="n">CF_SKY</span><span class="p">,</span>
            <span class="p">]</span>
        <span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">view</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span>
                <span class="n">gl</span><span class="o">.</span><span class="n">GLLinePlotItem</span><span class="p">(</span>
                    <span class="n">pos</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="n">ii</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">antialias</span><span class="o">=</span><span class="kc">True</span>
                <span class="p">)</span>
            <span class="p">)</span>

        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">view</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="TiBi.views.UnitCellView" class="doc doc-heading">
            <code>TiBi.views.UnitCellView</code>


<a href="#TiBi.views.UnitCellView" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="PySide6.QtWidgets.QWidget">QWidget</span></code></p>


        <p>Main UI component for managing unit cells, sites, and states.</p>
<p>This widget combines a tree view of the unit cell hierarchy with
dynamically swappable panels for editing properties of the selected
tree node. It handles the data models and coordinates interactions
between the tree view and detail panels.</p>
<p>The UI consists of several main parts:</p>
<ol>
<li>Tree view panel showing the hierarchy of unit cells, sites, and states</li>
<li>Button panel with actions for creating, deleting, and modifying items</li>
<li>Form panels that change depending on what is selected in the tree</li>
<li>Dimensionality controls for setting periodic boundary conditions</li>
</ol>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="TiBi.views.UnitCellView.unit_cell_panel">unit_cell_panel</span></code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="TiBi.views.panels.UnitCellPanel" href="#TiBi.views.panels.UnitCellPanel">UnitCellPanel</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Panel for editing <code>UnitCell</code> properties.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="TiBi.views.UnitCellView.site_panel">site_panel</span></code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="TiBi.views.panels.SitePanel" href="#TiBi.views.panels.SitePanel">SitePanel</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Panel for editing <code>Site</code> properties.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="TiBi.views.UnitCellView.tree_view_panel">tree_view_panel</span></code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="TiBi.views.panels.TreeViewPanel" href="#TiBi.views.panels.TreeViewPanel">TreeViewPanel</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Panel displaying the tree view of <code>UnitCell</code>s, <code>Site</code>s, and <code>State</code>s.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>







              <details class="quote">
                <summary>Source code in <code>TiBi/views/uc_view.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">UnitCellView</span><span class="p">(</span><span class="n">QWidget</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Main UI component for managing unit cells, sites, and states.</span>

<span class="sd">    This widget combines a tree view of the unit cell hierarchy with</span>
<span class="sd">    dynamically swappable panels for editing properties of the selected</span>
<span class="sd">    tree node. It handles the data models and coordinates interactions</span>
<span class="sd">    between the tree view and detail panels.</span>

<span class="sd">    The UI consists of several main parts:</span>

<span class="sd">    1. Tree view panel showing the hierarchy of unit cells, sites, and states</span>
<span class="sd">    2. Button panel with actions for creating, deleting, and modifying items</span>
<span class="sd">    3. Form panels that change depending on what is selected in the tree</span>
<span class="sd">    4. Dimensionality controls for setting periodic boundary conditions</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    unit_cell_panel : UnitCellPanel</span>
<span class="sd">        Panel for editing `UnitCell` properties.</span>
<span class="sd">    site_panel : SitePanel</span>
<span class="sd">        Panel for editing `Site` properties.</span>
<span class="sd">    tree_view_panel : TreeViewPanel</span>
<span class="sd">        Panel displaying the tree view of `UnitCell`s, `Site`s, and `State`s.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="c1"># Main layout</span>
        <span class="n">layout</span> <span class="o">=</span> <span class="n">QVBoxLayout</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">layout</span><span class="o">.</span><span class="n">setContentsMargins</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

        <span class="c1"># Initialize UI panels</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">unit_cell_panel</span> <span class="o">=</span> <span class="n">UnitCellPanel</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">site_panel</span> <span class="o">=</span> <span class="n">SitePanel</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tree_view_panel</span> <span class="o">=</span> <span class="n">TreeViewPanel</span><span class="p">()</span>

        <span class="c1"># Use the unit_cell_panel to determine the width of the tree view panel</span>
        <span class="n">tree_view_width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">unit_cell_panel</span><span class="o">.</span><span class="n">sizeHint</span><span class="p">()</span><span class="o">.</span><span class="n">width</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tree_view_panel</span><span class="o">.</span><span class="n">setFixedWidth</span><span class="p">(</span><span class="n">tree_view_width</span><span class="p">)</span>
        <span class="c1"># Info labels</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">uc_info_label</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;Add/Select a Unit Cell&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">uc_info_label</span><span class="o">.</span><span class="n">setAlignment</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignCenter</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">site_info_label</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;Add/Select a Site&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">site_info_label</span><span class="o">.</span><span class="n">setAlignment</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignCenter</span><span class="p">)</span>

        <span class="c1"># Panel stacks</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">uc_stack</span> <span class="o">=</span> <span class="n">QStackedWidget</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">uc_stack</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">uc_info_label</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">uc_stack</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">unit_cell_panel</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">site_stack</span> <span class="o">=</span> <span class="n">QStackedWidget</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">site_stack</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">site_info_label</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">site_stack</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">site_panel</span><span class="p">)</span>

        <span class="c1"># Create the interface</span>
        <span class="c1"># Top panel contains the tree view</span>
        <span class="n">top_panel</span> <span class="o">=</span> <span class="n">QVBoxLayout</span><span class="p">()</span>
        <span class="n">top_panel</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tree_view_panel</span><span class="p">)</span>

        <span class="c1"># Bottom panel contains the unit cell/state editable fields</span>
        <span class="n">bottom_panel</span> <span class="o">=</span> <span class="n">QVBoxLayout</span><span class="p">()</span>
        <span class="n">bottom_panel</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">uc_stack</span><span class="p">)</span>
        <span class="n">bottom_panel</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">divider_line</span><span class="p">())</span>
        <span class="n">bottom_panel</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">site_stack</span><span class="p">)</span>

        <span class="n">layout</span><span class="o">.</span><span class="n">setSpacing</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

        <span class="n">layout</span><span class="o">.</span><span class="n">addLayout</span><span class="p">(</span><span class="n">top_panel</span><span class="p">)</span>
        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">divider_line</span><span class="p">())</span>
        <span class="n">layout</span><span class="o">.</span><span class="n">addLayout</span><span class="p">(</span><span class="n">bottom_panel</span><span class="p">)</span>
        <span class="n">layout</span><span class="o">.</span><span class="n">setStretch</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">layout</span><span class="o">.</span><span class="n">setStretch</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">layout</span><span class="o">.</span><span class="n">setStretch</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div><hr />
<h2 id="panel-components">Panel Components<a class="headerlink" href="#panel-components" title="Permanent link">&para;</a></h2>


<div class="doc doc-object doc-class">



<h2 id="TiBi.views.panels.BandsPanel" class="doc doc-heading">
            <code>TiBi.views.panels.BandsPanel</code>


<a href="#TiBi.views.panels.BandsPanel" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="PySide6.QtWidgets.QWidget">QWidget</span></code></p>


        <p>A panel for managing band structure calculations and projections.</p>
<p>This panel allows users to define a path in the Brillouin zone, compute
band structures, and project states onto various basis states.
The panel also includes options for configuring
the Brillouin zone grid and DOS calculations.</p>







              <details class="quote">
                <summary>Source code in <code>TiBi/views/panels/bands_panel.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">BandsPanel</span><span class="p">(</span><span class="n">QWidget</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A panel for managing band structure calculations and projections.</span>

<span class="sd">    This panel allows users to define a path in the Brillouin zone, compute</span>
<span class="sd">    band structures, and project states onto various basis states.</span>
<span class="sd">    The panel also includes options for configuring</span>
<span class="sd">    the Brillouin zone grid and DOS calculations.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setSizePolicy</span><span class="p">(</span><span class="n">QSizePolicy</span><span class="o">.</span><span class="n">Expanding</span><span class="p">,</span> <span class="n">QSizePolicy</span><span class="o">.</span><span class="n">Expanding</span><span class="p">)</span>

        <span class="c1"># Main Layout</span>
        <span class="n">layout</span> <span class="o">=</span> <span class="n">QVBoxLayout</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">layout</span><span class="o">.</span><span class="n">setContentsMargins</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bands_grid</span> <span class="o">=</span> <span class="n">QGridLayout</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">proj_layout</span> <span class="o">=</span> <span class="n">QVBoxLayout</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dos_layout</span> <span class="o">=</span> <span class="n">QVBoxLayout</span><span class="p">()</span>
        <span class="n">layout</span><span class="o">.</span><span class="n">addLayout</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bands_grid</span><span class="p">,</span> <span class="n">stretch</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">divider_line</span><span class="p">())</span>
        <span class="n">layout</span><span class="o">.</span><span class="n">addLayout</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">proj_layout</span><span class="p">)</span>
        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">divider_line</span><span class="p">())</span>
        <span class="n">layout</span><span class="o">.</span><span class="n">addLayout</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dos_layout</span><span class="p">,</span> <span class="n">stretch</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

        <span class="c1"># Bands Section</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bands_grid</span><span class="o">.</span><span class="n">setContentsMargins</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
        <span class="n">path_label</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;Band Calculations&quot;</span><span class="p">)</span>
        <span class="n">path_label</span><span class="o">.</span><span class="n">setProperty</span><span class="p">(</span><span class="s2">&quot;style&quot;</span><span class="p">,</span> <span class="s2">&quot;bold&quot;</span><span class="p">)</span>
        <span class="n">path_label</span><span class="o">.</span><span class="n">setAlignment</span><span class="p">(</span>
            <span class="n">Qt</span><span class="o">.</span><span class="n">AlignCenter</span>
        <span class="p">)</span>  <span class="c1"># This centers the text within the label</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bands_grid</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">path_label</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>

        <span class="c1"># Icons</span>
        <span class="n">icon_size</span> <span class="o">=</span> <span class="n">QSize</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
        <span class="n">left_arrow_icon</span> <span class="o">=</span> <span class="n">QIcon</span><span class="p">()</span>
        <span class="n">left_arrow_icon</span><span class="o">.</span><span class="n">addFile</span><span class="p">(</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">get_resource_path</span><span class="p">(</span><span class="s2">&quot;assets/icons/down_arrow.svg&quot;</span><span class="p">)),</span>
            <span class="n">mode</span><span class="o">=</span><span class="n">QIcon</span><span class="o">.</span><span class="n">Mode</span><span class="o">.</span><span class="n">Normal</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">left_arrow_icon</span><span class="o">.</span><span class="n">addFile</span><span class="p">(</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">get_resource_path</span><span class="p">(</span><span class="s2">&quot;assets/icons/down_arrow_disabled.svg&quot;</span><span class="p">)),</span>
            <span class="n">mode</span><span class="o">=</span><span class="n">QIcon</span><span class="o">.</span><span class="n">Mode</span><span class="o">.</span><span class="n">Disabled</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">right_arrow_icon</span> <span class="o">=</span> <span class="n">QIcon</span><span class="p">()</span>
        <span class="n">right_arrow_icon</span><span class="o">.</span><span class="n">addFile</span><span class="p">(</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">get_resource_path</span><span class="p">(</span><span class="s2">&quot;assets/icons/up_arrow.svg&quot;</span><span class="p">)),</span>
            <span class="n">mode</span><span class="o">=</span><span class="n">QIcon</span><span class="o">.</span><span class="n">Mode</span><span class="o">.</span><span class="n">Normal</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">right_arrow_icon</span><span class="o">.</span><span class="n">addFile</span><span class="p">(</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">get_resource_path</span><span class="p">(</span><span class="s2">&quot;assets/icons/up_arrow_disabled.svg&quot;</span><span class="p">)),</span>
            <span class="n">mode</span><span class="o">=</span><span class="n">QIcon</span><span class="o">.</span><span class="n">Mode</span><span class="o">.</span><span class="n">Disabled</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="c1"># Gamma point controls (Γ - origin of reciprocal space)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_gamma_btn</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;Γ&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_gamma_btn</span><span class="o">.</span><span class="n">setToolTip</span><span class="p">(</span><span class="s2">&quot;Gamma Point&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_gamma_btn</span><span class="o">.</span><span class="n">setStatusTip</span><span class="p">(</span><span class="s2">&quot;Add the Gamma Point to the path.&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bands_grid</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">add_gamma_btn</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

        <span class="c1"># Vertex selection controls</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prev_vertex_btn</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prev_vertex_btn</span><span class="o">.</span><span class="n">setToolTip</span><span class="p">(</span><span class="s2">&quot;Previous&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prev_vertex_btn</span><span class="o">.</span><span class="n">setStatusTip</span><span class="p">(</span><span class="s2">&quot;Select the previous Vertex.&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prev_vertex_btn</span><span class="o">.</span><span class="n">setIcon</span><span class="p">(</span><span class="n">left_arrow_icon</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prev_vertex_btn</span><span class="o">.</span><span class="n">setIconSize</span><span class="p">(</span><span class="n">icon_size</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">next_vertex_btn</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">next_vertex_btn</span><span class="o">.</span><span class="n">setToolTip</span><span class="p">(</span><span class="s2">&quot;Next&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">next_vertex_btn</span><span class="o">.</span><span class="n">setStatusTip</span><span class="p">(</span><span class="s2">&quot;Select the next Vertex.&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">next_vertex_btn</span><span class="o">.</span><span class="n">setIcon</span><span class="p">(</span><span class="n">right_arrow_icon</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">next_vertex_btn</span><span class="o">.</span><span class="n">setIconSize</span><span class="p">(</span><span class="n">icon_size</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">add_vertex_btn</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;V&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_vertex_btn</span><span class="o">.</span><span class="n">setToolTip</span><span class="p">(</span><span class="s2">&quot;Vertex&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_vertex_btn</span><span class="o">.</span><span class="n">setStatusTip</span><span class="p">(</span>
            <span class="s2">&quot;Add the selected Vertex to the path.&quot;</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">bands_grid</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">next_vertex_btn</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bands_grid</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">add_vertex_btn</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bands_grid</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prev_vertex_btn</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

        <span class="c1"># Edge midpoint selection controls</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prev_edge_btn</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prev_edge_btn</span><span class="o">.</span><span class="n">setToolTip</span><span class="p">(</span><span class="s2">&quot;Previous&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prev_edge_btn</span><span class="o">.</span><span class="n">setStatusTip</span><span class="p">(</span><span class="s2">&quot;Select the previous Edge.&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prev_edge_btn</span><span class="o">.</span><span class="n">setIcon</span><span class="p">(</span><span class="n">left_arrow_icon</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prev_edge_btn</span><span class="o">.</span><span class="n">setIconSize</span><span class="p">(</span><span class="n">icon_size</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">next_edge_btn</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">next_edge_btn</span><span class="o">.</span><span class="n">setToolTip</span><span class="p">(</span><span class="s2">&quot;Next&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">next_edge_btn</span><span class="o">.</span><span class="n">setStatusTip</span><span class="p">(</span><span class="s2">&quot;Select the next Edge.&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">next_edge_btn</span><span class="o">.</span><span class="n">setIcon</span><span class="p">(</span><span class="n">right_arrow_icon</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">next_edge_btn</span><span class="o">.</span><span class="n">setIconSize</span><span class="p">(</span><span class="n">icon_size</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">add_edge_btn</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;E&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_edge_btn</span><span class="o">.</span><span class="n">setToolTip</span><span class="p">(</span><span class="s2">&quot;Edge&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_edge_btn</span><span class="o">.</span><span class="n">setStatusTip</span><span class="p">(</span><span class="s2">&quot;Add the selected Edge to the path.&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">bands_grid</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">next_edge_btn</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bands_grid</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">add_edge_btn</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bands_grid</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prev_edge_btn</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

        <span class="c1"># Face center selection controls</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prev_face_btn</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prev_face_btn</span><span class="o">.</span><span class="n">setToolTip</span><span class="p">(</span><span class="s2">&quot;Previous&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prev_face_btn</span><span class="o">.</span><span class="n">setStatusTip</span><span class="p">(</span><span class="s2">&quot;Select the previous Face.&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prev_face_btn</span><span class="o">.</span><span class="n">setIcon</span><span class="p">(</span><span class="n">left_arrow_icon</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prev_face_btn</span><span class="o">.</span><span class="n">setIconSize</span><span class="p">(</span><span class="n">icon_size</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">next_face_btn</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">next_face_btn</span><span class="o">.</span><span class="n">setToolTip</span><span class="p">(</span><span class="s2">&quot;Next&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">next_face_btn</span><span class="o">.</span><span class="n">setStatusTip</span><span class="p">(</span><span class="s2">&quot;Select the next Face.&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">next_face_btn</span><span class="o">.</span><span class="n">setIcon</span><span class="p">(</span><span class="n">right_arrow_icon</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">next_face_btn</span><span class="o">.</span><span class="n">setIconSize</span><span class="p">(</span><span class="n">icon_size</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">add_face_btn</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;F&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_face_btn</span><span class="o">.</span><span class="n">setToolTip</span><span class="p">(</span><span class="s2">&quot;Face&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_face_btn</span><span class="o">.</span><span class="n">setStatusTip</span><span class="p">(</span><span class="s2">&quot;Add the selected Face to the path.&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">bands_grid</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">next_face_btn</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bands_grid</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">add_face_btn</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bands_grid</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prev_face_btn</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>

        <span class="c1"># Path controls</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">remove_last_btn</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">()</span>
        <span class="n">remove_last</span> <span class="o">=</span> <span class="n">QIcon</span><span class="p">()</span>
        <span class="n">remove_last</span><span class="o">.</span><span class="n">addFile</span><span class="p">(</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">get_resource_path</span><span class="p">(</span><span class="s2">&quot;assets/icons/remove_last.svg&quot;</span><span class="p">)),</span>
            <span class="n">mode</span><span class="o">=</span><span class="n">QIcon</span><span class="o">.</span><span class="n">Mode</span><span class="o">.</span><span class="n">Normal</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">remove_last</span><span class="o">.</span><span class="n">addFile</span><span class="p">(</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">get_resource_path</span><span class="p">(</span><span class="s2">&quot;assets/icons/remove_last_disabled.svg&quot;</span><span class="p">)),</span>
            <span class="n">mode</span><span class="o">=</span><span class="n">QIcon</span><span class="o">.</span><span class="n">Mode</span><span class="o">.</span><span class="n">Disabled</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">remove_last_btn</span><span class="o">.</span><span class="n">setIcon</span><span class="p">(</span><span class="n">remove_last</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">remove_last_btn</span><span class="o">.</span><span class="n">setIconSize</span><span class="p">(</span><span class="n">icon_size</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">remove_last_btn</span><span class="o">.</span><span class="n">setToolTip</span><span class="p">(</span><span class="s2">&quot;Remove Last&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">remove_last_btn</span><span class="o">.</span><span class="n">setStatusTip</span><span class="p">(</span>
            <span class="s2">&quot;Remove the last added point from the Brillouin Zone path.&quot;</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">clear_path_btn</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">()</span>
        <span class="n">clear_path_icon</span> <span class="o">=</span> <span class="n">QIcon</span><span class="p">()</span>
        <span class="n">clear_path_icon</span><span class="o">.</span><span class="n">addFile</span><span class="p">(</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">get_resource_path</span><span class="p">(</span><span class="s2">&quot;assets/icons/trash_hopping.svg&quot;</span><span class="p">)),</span>
            <span class="n">mode</span><span class="o">=</span><span class="n">QIcon</span><span class="o">.</span><span class="n">Mode</span><span class="o">.</span><span class="n">Normal</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">clear_path_icon</span><span class="o">.</span><span class="n">addFile</span><span class="p">(</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">get_resource_path</span><span class="p">(</span><span class="s2">&quot;assets/icons/trash_hopping_disabled.svg&quot;</span><span class="p">)),</span>
            <span class="n">mode</span><span class="o">=</span><span class="n">QIcon</span><span class="o">.</span><span class="n">Mode</span><span class="o">.</span><span class="n">Disabled</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clear_path_btn</span><span class="o">.</span><span class="n">setIcon</span><span class="p">(</span><span class="n">clear_path_icon</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clear_path_btn</span><span class="o">.</span><span class="n">setIconSize</span><span class="p">(</span><span class="n">icon_size</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clear_path_btn</span><span class="o">.</span><span class="n">setToolTip</span><span class="p">(</span><span class="s2">&quot;Clear&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clear_path_btn</span><span class="o">.</span><span class="n">setStatusTip</span><span class="p">(</span><span class="s2">&quot;Clear the Brillouin Zone path.&quot;</span><span class="p">)</span>

        <span class="n">kpoints_layout</span> <span class="o">=</span> <span class="n">QHBoxLayout</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">n_points_spinbox</span> <span class="o">=</span> <span class="n">QSpinBox</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">n_points_spinbox</span><span class="o">.</span><span class="n">setRange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10000</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">n_points_spinbox</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">n_points_spinbox</span><span class="o">.</span><span class="n">setButtonSymbols</span><span class="p">(</span><span class="n">QSpinBox</span><span class="o">.</span><span class="n">NoButtons</span><span class="p">)</span>
        <span class="n">set_spinbox_digit_width</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">n_points_spinbox</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">compute_bands_btn</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">()</span>
        <span class="n">compute_icon</span> <span class="o">=</span> <span class="n">QIcon</span><span class="p">()</span>
        <span class="n">compute_icon</span><span class="o">.</span><span class="n">addFile</span><span class="p">(</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">get_resource_path</span><span class="p">(</span><span class="s2">&quot;assets/icons/computer.svg&quot;</span><span class="p">)),</span>
            <span class="n">mode</span><span class="o">=</span><span class="n">QIcon</span><span class="o">.</span><span class="n">Mode</span><span class="o">.</span><span class="n">Normal</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">compute_icon</span><span class="o">.</span><span class="n">addFile</span><span class="p">(</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">get_resource_path</span><span class="p">(</span><span class="s2">&quot;assets/icons/computer_disabled.svg&quot;</span><span class="p">)),</span>
            <span class="n">mode</span><span class="o">=</span><span class="n">QIcon</span><span class="o">.</span><span class="n">Mode</span><span class="o">.</span><span class="n">Disabled</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">compute_bands_btn</span><span class="o">.</span><span class="n">setIcon</span><span class="p">(</span><span class="n">compute_icon</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">compute_bands_btn</span><span class="o">.</span><span class="n">setIconSize</span><span class="p">(</span><span class="n">icon_size</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">compute_bands_btn</span><span class="o">.</span><span class="n">setToolTip</span><span class="p">(</span><span class="s2">&quot;Compute&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">compute_bands_btn</span><span class="o">.</span><span class="n">setStatusTip</span><span class="p">(</span><span class="s2">&quot;Compute the Bands.&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">bands_grid</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">remove_last_btn</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">remove_last_btn</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span>
            <span class="kc">False</span>
        <span class="p">)</span>  <span class="c1"># Disabled until path has points</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">bands_grid</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">clear_path_btn</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clear_path_btn</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>  <span class="c1"># Disabled until path has points</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">bands_grid</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">compute_bands_btn</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">compute_bands_btn</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span>
            <span class="kc">False</span>
        <span class="p">)</span>  <span class="c1"># Disabled until path has at least two points</span>

        <span class="n">kpoints_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;Points:&quot;</span><span class="p">))</span>
        <span class="n">kpoints_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">n_points_spinbox</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bands_grid</span><span class="o">.</span><span class="n">addLayout</span><span class="p">(</span><span class="n">kpoints_layout</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">bands_grid</span><span class="o">.</span><span class="n">setVerticalSpacing</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bands_grid</span><span class="o">.</span><span class="n">setHorizontalSpacing</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>

        <span class="c1"># Initially disable all selection buttons</span>
        <span class="n">btns</span> <span class="o">=</span> <span class="p">[</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_gamma_btn</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">prev_vertex_btn</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">next_vertex_btn</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_vertex_btn</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">prev_edge_btn</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">next_edge_btn</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_edge_btn</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">prev_face_btn</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">next_face_btn</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_face_btn</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="k">for</span> <span class="n">btn</span> <span class="ow">in</span> <span class="n">btns</span><span class="p">:</span>
            <span class="n">btn</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>

        <span class="c1"># Group buttons by type for easier controller access</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vertex_btns</span> <span class="o">=</span> <span class="p">[</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">prev_vertex_btn</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">next_vertex_btn</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_vertex_btn</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">edge_btns</span> <span class="o">=</span> <span class="p">[</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">prev_edge_btn</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">next_edge_btn</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_edge_btn</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">face_btns</span> <span class="o">=</span> <span class="p">[</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">prev_face_btn</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">next_face_btn</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_face_btn</span><span class="p">,</span>
        <span class="p">]</span>

        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">):</span>  <span class="c1"># Rows 0 to 4 in bands_grid</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">bands_grid</span><span class="o">.</span><span class="n">setRowMinimumHeight</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="mi">25</span><span class="p">)</span>

        <span class="c1"># Approximate output size label</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">approximate_band_size</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;Approximate output size: 0 kB&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bands_grid</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">approximate_band_size</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>

        <span class="c1"># Projection panel</span>
        <span class="n">projection_label</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;State Projection&quot;</span><span class="p">)</span>
        <span class="n">projection_label</span><span class="o">.</span><span class="n">setProperty</span><span class="p">(</span><span class="s2">&quot;style&quot;</span><span class="p">,</span> <span class="s2">&quot;bold&quot;</span><span class="p">)</span>
        <span class="n">projection_label</span><span class="o">.</span><span class="n">setAlignment</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignCenter</span><span class="p">)</span>
        <span class="n">projection_tools</span> <span class="o">=</span> <span class="n">QHBoxLayout</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">proj_layout</span><span class="o">.</span><span class="n">setContentsMargins</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">proj_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">projection_label</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">proj_layout</span><span class="o">.</span><span class="n">addLayout</span><span class="p">(</span><span class="n">projection_tools</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">proj_combo</span> <span class="o">=</span> <span class="n">CheckableComboBox</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">project_btn</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;Project&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">select_all_btn</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;All&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">select_all_btn</span><span class="o">.</span><span class="n">setToolTip</span><span class="p">(</span><span class="s2">&quot;Select All&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">select_all_btn</span><span class="o">.</span><span class="n">setStatusTip</span><span class="p">(</span><span class="s2">&quot;Select all States for Projection.&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clear_all_btn</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;None&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clear_all_btn</span><span class="o">.</span><span class="n">setToolTip</span><span class="p">(</span><span class="s2">&quot;Clear Selection&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clear_all_btn</span><span class="o">.</span><span class="n">setStatusTip</span><span class="p">(</span><span class="s2">&quot;Deselect all States.&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">select_all_btn</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clear_all_btn</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>

        <span class="n">proj_left</span> <span class="o">=</span> <span class="n">QVBoxLayout</span><span class="p">()</span>
        <span class="n">proj_right</span> <span class="o">=</span> <span class="n">QVBoxLayout</span><span class="p">()</span>
        <span class="n">proj_buttons</span> <span class="o">=</span> <span class="n">QHBoxLayout</span><span class="p">()</span>

        <span class="n">projection_tools</span><span class="o">.</span><span class="n">addLayout</span><span class="p">(</span><span class="n">proj_left</span><span class="p">,</span> <span class="n">stretch</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
        <span class="n">projection_tools</span><span class="o">.</span><span class="n">addLayout</span><span class="p">(</span><span class="n">proj_right</span><span class="p">,</span> <span class="n">stretch</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

        <span class="n">proj_left</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">proj_combo</span><span class="p">)</span>
        <span class="n">proj_left</span><span class="o">.</span><span class="n">addLayout</span><span class="p">(</span><span class="n">proj_buttons</span><span class="p">)</span>

        <span class="n">proj_buttons</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">select_all_btn</span><span class="p">)</span>
        <span class="n">proj_buttons</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">clear_all_btn</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">bands_radio</span> <span class="o">=</span> <span class="n">QRadioButton</span><span class="p">(</span><span class="s2">&quot;Bands&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dos_radio</span> <span class="o">=</span> <span class="n">QRadioButton</span><span class="p">(</span><span class="s2">&quot;DOS&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">radio_group</span> <span class="o">=</span> <span class="n">QButtonGroup</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">radio_group</span><span class="o">.</span><span class="n">addButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bands_radio</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">radio_group</span><span class="o">.</span><span class="n">addButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dos_radio</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bands_radio</span><span class="o">.</span><span class="n">setChecked</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

        <span class="n">proj_right</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bands_radio</span><span class="p">)</span>
        <span class="n">proj_right</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dos_radio</span><span class="p">)</span>

        <span class="c1"># DOS Section</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bz_grid</span> <span class="o">=</span> <span class="n">QGridLayout</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dos_visualization_grid</span> <span class="o">=</span> <span class="n">QGridLayout</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dos_layout</span><span class="o">.</span><span class="n">addLayout</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bz_grid</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dos_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">divider_line</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dos_layout</span><span class="o">.</span><span class="n">addLayout</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dos_visualization_grid</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dos_layout</span><span class="o">.</span><span class="n">setContentsMargins</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>

        <span class="n">bz_grid_label</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;Brillouin Zone Grid&quot;</span><span class="p">)</span>
        <span class="n">bz_grid_label</span><span class="o">.</span><span class="n">setProperty</span><span class="p">(</span><span class="s2">&quot;style&quot;</span><span class="p">,</span> <span class="s2">&quot;bold&quot;</span><span class="p">)</span>
        <span class="n">bz_grid_label</span><span class="o">.</span><span class="n">setAlignment</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignCenter</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bz_grid</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">bz_grid_label</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>

        <span class="n">dos_presentation_label</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;DOS Visualization&quot;</span><span class="p">)</span>
        <span class="n">dos_presentation_label</span><span class="o">.</span><span class="n">setProperty</span><span class="p">(</span><span class="s2">&quot;style&quot;</span><span class="p">,</span> <span class="s2">&quot;bold&quot;</span><span class="p">)</span>
        <span class="n">dos_presentation_label</span><span class="o">.</span><span class="n">setAlignment</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignCenter</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dos_visualization_grid</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span>
            <span class="n">dos_presentation_label</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span>
        <span class="p">)</span>

        <span class="c1"># Grid points controls</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">v1_points_spinbox</span> <span class="o">=</span> <span class="n">QSpinBox</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">v2_points_spinbox</span> <span class="o">=</span> <span class="n">QSpinBox</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">v3_points_spinbox</span> <span class="o">=</span> <span class="n">QSpinBox</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">num_bins_spinbox</span> <span class="o">=</span> <span class="n">EnterKeyIntSpinBox</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">broadening_spinbox</span> <span class="o">=</span> <span class="n">EnterKeySpinBox</span><span class="p">()</span>

        <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="p">[</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">v1_points_spinbox</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">v2_points_spinbox</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">v3_points_spinbox</span><span class="p">,</span>
        <span class="p">]:</span>
            <span class="n">b</span><span class="o">.</span><span class="n">setRange</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
            <span class="n">b</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span>
            <span class="n">set_spinbox_digit_width</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
            <span class="n">b</span><span class="o">.</span><span class="n">setButtonSymbols</span><span class="p">(</span><span class="n">QSpinBox</span><span class="o">.</span><span class="n">NoButtons</span><span class="p">)</span>
            <span class="n">b</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">num_bins_spinbox</span><span class="o">.</span><span class="n">setRange</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">num_bins_spinbox</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">num_bins_spinbox</span><span class="o">.</span><span class="n">setButtonSymbols</span><span class="p">(</span><span class="n">QSpinBox</span><span class="o">.</span><span class="n">NoButtons</span><span class="p">)</span>
        <span class="n">set_spinbox_digit_width</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">num_bins_spinbox</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">broadening_spinbox</span><span class="o">.</span><span class="n">setDecimals</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">broadening_spinbox</span><span class="o">.</span><span class="n">setRange</span><span class="p">(</span><span class="mf">0.001</span><span class="p">,</span> <span class="mf">10.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">broadening_spinbox</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="mf">0.001</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">broadening_spinbox</span><span class="o">.</span><span class="n">setButtonSymbols</span><span class="p">(</span><span class="n">QSpinBox</span><span class="o">.</span><span class="n">NoButtons</span><span class="p">)</span>
        <span class="n">set_spinbox_digit_width</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">broadening_spinbox</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">bz_grid</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;v&lt;sub&gt;1&lt;/sub&gt; points:&quot;</span><span class="p">),</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bz_grid</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;v&lt;sub&gt;2&lt;/sub&gt; points:&quot;</span><span class="p">),</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bz_grid</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;v&lt;sub&gt;3&lt;/sub&gt; points:&quot;</span><span class="p">),</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">bz_grid</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">v1_points_spinbox</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bz_grid</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">v2_points_spinbox</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bz_grid</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">v3_points_spinbox</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

        <span class="c1"># Approximate output size label</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">approximate_BZ_grid_size</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;Approximate output size: 0 kB&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bz_grid</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">approximate_BZ_grid_size</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">dos_visualization_grid</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;Bin number:&quot;</span><span class="p">),</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dos_visualization_grid</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;Broadening:&quot;</span><span class="p">),</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">dos_visualization_grid</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">num_bins_spinbox</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dos_visualization_grid</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">broadening_spinbox</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">compute_grid_btn</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">compute_grid_btn</span><span class="o">.</span><span class="n">setIcon</span><span class="p">(</span><span class="n">compute_icon</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">compute_grid_btn</span><span class="o">.</span><span class="n">setIconSize</span><span class="p">(</span><span class="n">icon_size</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">compute_grid_btn</span><span class="o">.</span><span class="n">setToolTip</span><span class="p">(</span><span class="s2">&quot;Compute&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">compute_grid_btn</span><span class="o">.</span><span class="n">setStatusTip</span><span class="p">(</span><span class="s2">&quot;Compute the Brillouin Zone grid.&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">compute_grid_btn</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>

        <span class="c1"># Grid type choice</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">MP_radio</span> <span class="o">=</span> <span class="n">QRadioButton</span><span class="p">(</span><span class="s2">&quot;Monkhorst-Pack&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Gamma_radio</span> <span class="o">=</span> <span class="n">QRadioButton</span><span class="p">(</span><span class="s2">&quot;Γ-centered&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">grid_choice_group</span> <span class="o">=</span> <span class="n">QButtonGroup</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">grid_choice_group</span><span class="o">.</span><span class="n">addButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">MP_radio</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">grid_choice_group</span><span class="o">.</span><span class="n">addButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Gamma_radio</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">MP_radio</span><span class="o">.</span><span class="n">setChecked</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

        <span class="c1"># DOS presentation choice</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">histogram_radio</span> <span class="o">=</span> <span class="n">QRadioButton</span><span class="p">(</span><span class="s2">&quot;Histogram&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lorentzian_radio</span> <span class="o">=</span> <span class="n">QRadioButton</span><span class="p">(</span><span class="s2">&quot;Lorentzian&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">presentation_choice_group</span> <span class="o">=</span> <span class="n">QButtonGroup</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">presentation_choice_group</span><span class="o">.</span><span class="n">addButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">histogram_radio</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">presentation_choice_group</span><span class="o">.</span><span class="n">addButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lorentzian_radio</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">histogram_radio</span><span class="o">.</span><span class="n">setChecked</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">bz_grid</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">MP_radio</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bz_grid</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Gamma_radio</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bz_grid</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">compute_grid_btn</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">dos_visualization_grid</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">histogram_radio</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dos_visualization_grid</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lorentzian_radio</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>

        <span class="c1"># Style the buttons</span>
        <span class="k">for</span> <span class="n">btn</span> <span class="ow">in</span> <span class="p">[</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_gamma_btn</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">prev_vertex_btn</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">next_vertex_btn</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_vertex_btn</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">prev_edge_btn</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">next_edge_btn</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_edge_btn</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">prev_face_btn</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">next_face_btn</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_face_btn</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">remove_last_btn</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">clear_path_btn</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">compute_bands_btn</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">compute_grid_btn</span><span class="p">,</span>
        <span class="p">]:</span>
            <span class="n">set_button_size</span><span class="p">(</span><span class="n">btn</span><span class="p">,</span> <span class="s2">&quot;compact&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="TiBi.views.panels.hopping_panel.HoppingMatrix" class="doc doc-heading">
            <code>TiBi.views.panels.hopping_panel.HoppingMatrix</code>


<a href="#TiBi.views.panels.hopping_panel.HoppingMatrix" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="PySide6.QtWidgets.QWidget">QWidget</span></code></p>


        <p>A grid of buttons representing possible hopping connections between states.</p>
<p>Each button in the grid represents a possible hopping between two states.
The rows (columns) represent the destination (source) states.
Buttons are colored differently based on whether a hopping exists or not,
and whether the hopping is Hermitian.</p>







              <details class="quote">
                <summary>Source code in <code>TiBi/views/panels/hopping_panel.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">HoppingMatrix</span><span class="p">(</span><span class="n">QWidget</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A grid of buttons representing possible hopping connections between states.</span>

<span class="sd">    Each button in the grid represents a possible hopping between two states.</span>
<span class="sd">    The rows (columns) represent the destination (source) states.</span>
<span class="sd">    Buttons are colored differently based on whether a hopping exists or not,</span>
<span class="sd">    and whether the hopping is Hermitian.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>

        <span class="n">layout</span> <span class="o">=</span> <span class="n">QVBoxLayout</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">layout</span><span class="o">.</span><span class="n">setContentsMargins</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

        <span class="c1"># Scrollable Area for Matrix</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scroll_area</span> <span class="o">=</span> <span class="n">QScrollArea</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scroll_area</span><span class="o">.</span><span class="n">setWidgetResizable</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

        <span class="c1"># Content widget for grid</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">content_widget</span> <span class="o">=</span> <span class="n">QWidget</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">grid_layout</span> <span class="o">=</span> <span class="n">QGridLayout</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">content_widget</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">grid_layout</span><span class="o">.</span><span class="n">setSpacing</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">scroll_area</span><span class="o">.</span><span class="n">setWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">content_widget</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scroll_area</span><span class="o">.</span><span class="n">setFrameStyle</span><span class="p">(</span><span class="n">QFrame</span><span class="o">.</span><span class="n">NoFrame</span><span class="p">)</span>

        <span class="n">title_label</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;Coupling Matrix&quot;</span><span class="p">)</span>
        <span class="n">title_label</span><span class="o">.</span><span class="n">setProperty</span><span class="p">(</span><span class="s2">&quot;style&quot;</span><span class="p">,</span> <span class="s2">&quot;bold&quot;</span><span class="p">)</span>
        <span class="n">title_label</span><span class="o">.</span><span class="n">setAlignment</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignHCenter</span> <span class="o">|</span> <span class="n">Qt</span><span class="o">.</span><span class="n">AlignVCenter</span><span class="p">)</span>
        <span class="n">title_label</span><span class="o">.</span><span class="n">setSizePolicy</span><span class="p">(</span><span class="n">QSizePolicy</span><span class="o">.</span><span class="n">Preferred</span><span class="p">,</span> <span class="n">QSizePolicy</span><span class="o">.</span><span class="n">Fixed</span><span class="p">)</span>
        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">title_label</span><span class="p">)</span>
        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scroll_area</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="TiBi.views.panels.HoppingPanel" class="doc doc-heading">
            <code>TiBi.views.panels.HoppingPanel</code>


<a href="#TiBi.views.panels.HoppingPanel" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="PySide6.QtWidgets.QWidget">QWidget</span></code></p>


        <p>View for editing hopping parameters between quantum states.</p>
<p>This widget combines two main components:</p>
<ol>
<li>A matrix grid where each button represents a possible hopping connection
   between two states [rows (columns) are destination (target) states]</li>
<li>A table for editing specific hopping parameters when a connection
   is selected in the matrix</li>
</ol>
<p>The view uses a stacked widget approach to show different panels based on
the current selection state (no unit cell, no states, or states selected).</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="TiBi.views.panels.HoppingPanel.matrix_panel">matrix_panel</span></code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="TiBi.views.panels.hopping_panel.HoppingMatrix" href="#TiBi.views.panels.hopping_panel.HoppingMatrix">HoppingMatrix</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The panel displaying the hopping matrix as a grid of buttons.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="TiBi.views.panels.HoppingPanel.table_panel">table_panel</span></code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="TiBi.views.panels.hopping_panel.HoppingTable" href="#TiBi.views.panels.hopping_panel.HoppingTable">HoppingTable</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The panel displaying the hopping parameters in a table format.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>







              <details class="quote">
                <summary>Source code in <code>TiBi/views/panels/hopping_panel.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">HoppingPanel</span><span class="p">(</span><span class="n">QWidget</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    View for editing hopping parameters between quantum states.</span>

<span class="sd">    This widget combines two main components:</span>

<span class="sd">    1. A matrix grid where each button represents a possible hopping connection</span>
<span class="sd">       between two states [rows (columns) are destination (target) states]</span>
<span class="sd">    2. A table for editing specific hopping parameters when a connection</span>
<span class="sd">       is selected in the matrix</span>

<span class="sd">    The view uses a stacked widget approach to show different panels based on</span>
<span class="sd">    the current selection state (no unit cell, no states, or states selected).</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    matrix_panel : HoppingMatrix</span>
<span class="sd">        The panel displaying the hopping matrix as a grid of buttons.</span>
<span class="sd">    table_panel : HoppingTable</span>
<span class="sd">        The panel displaying the hopping parameters in a table format.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setSizePolicy</span><span class="p">(</span><span class="n">QSizePolicy</span><span class="o">.</span><span class="n">Expanding</span><span class="p">,</span> <span class="n">QSizePolicy</span><span class="o">.</span><span class="n">Expanding</span><span class="p">)</span>

        <span class="c1"># Initialize the panels</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">matrix_panel</span> <span class="o">=</span> <span class="n">HoppingMatrix</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">table_panel</span> <span class="o">=</span> <span class="n">HoppingTable</span><span class="p">()</span>

        <span class="c1"># Main layout</span>
        <span class="n">layout</span> <span class="o">=</span> <span class="n">QVBoxLayout</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">layout</span><span class="o">.</span><span class="n">setContentsMargins</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

        <span class="c1"># Components</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">info_label</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;Select a Unit Cell with States&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">info_label</span><span class="o">.</span><span class="n">setAlignment</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignCenter</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">table_info_label</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;Select a matrix element to edit&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">table_info_label</span><span class="o">.</span><span class="n">setAlignment</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignCenter</span><span class="p">)</span>

        <span class="c1"># Main Panel</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">panel</span> <span class="o">=</span> <span class="n">QWidget</span><span class="p">()</span>
        <span class="n">panel_layout</span> <span class="o">=</span> <span class="n">QVBoxLayout</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">)</span>

        <span class="c1"># A stack that hides the table if no state pair is selected</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">table_stack</span> <span class="o">=</span> <span class="n">QStackedWidget</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">table_stack</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">table_info_label</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">table_stack</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">table_panel</span><span class="p">)</span>

        <span class="n">panel_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">matrix_panel</span><span class="p">,</span> <span class="n">stretch</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
        <span class="n">panel_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">table_stack</span><span class="p">,</span> <span class="n">stretch</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

        <span class="c1"># A stack that hides the main panel if no unit cell is selected or</span>
        <span class="c1"># the selected unit cell has no states</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">panel_stack</span> <span class="o">=</span> <span class="n">QStackedWidget</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">panel_stack</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">info_label</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">panel_stack</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">)</span>
        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">panel_stack</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="TiBi.views.panels.hopping_panel.HoppingTable" class="doc doc-heading">
            <code>TiBi.views.panels.hopping_panel.HoppingTable</code>


<a href="#TiBi.views.panels.hopping_panel.HoppingTable" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="PySide6.QtWidgets.QWidget">QWidget</span></code></p>


        <p>A table containing hoppings between the selected states.</p>
<p>Each row of the table describes a hopping and contains five columns.
The first three columns provide the displacements from the origin site
to the destination site in terms of the basis vectors. The last two
columns are the real and imaginary parts of the hopping term, respectively.</p>







              <details class="quote">
                <summary>Source code in <code>TiBi/views/panels/hopping_panel.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">HoppingTable</span><span class="p">(</span><span class="n">QWidget</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A table containing hoppings between the selected states.</span>

<span class="sd">    Each row of the table describes a hopping and contains five columns.</span>
<span class="sd">    The first three columns provide the displacements from the origin site</span>
<span class="sd">    to the destination site in terms of the basis vectors. The last two</span>
<span class="sd">    columns are the real and imaginary parts of the hopping term, respectively.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>

        <span class="n">layout</span> <span class="o">=</span> <span class="n">QVBoxLayout</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">layout</span><span class="o">.</span><span class="n">setContentsMargins</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">table_title</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">table_title</span><span class="o">.</span><span class="n">setAlignment</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignHCenter</span> <span class="o">|</span> <span class="n">Qt</span><span class="o">.</span><span class="n">AlignVCenter</span><span class="p">)</span>

        <span class="c1"># Table manipulation buttons on the right</span>
        <span class="n">table_buttons_layout</span> <span class="o">=</span> <span class="n">QVBoxLayout</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">add_row_btn</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_row_btn</span><span class="o">.</span><span class="n">setIcon</span><span class="p">(</span>
            <span class="n">QIcon</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">get_resource_path</span><span class="p">(</span><span class="s2">&quot;assets/icons/plus_hopping.svg&quot;</span><span class="p">)))</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_row_btn</span><span class="o">.</span><span class="n">setToolTip</span><span class="p">(</span><span class="s2">&quot;New Hopping&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_row_btn</span><span class="o">.</span><span class="n">setStatusTip</span><span class="p">(</span><span class="s2">&quot;Add a new hopping integral.&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">remove_row_btn</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">remove_row_btn</span><span class="o">.</span><span class="n">setIcon</span><span class="p">(</span>
            <span class="n">QIcon</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">get_resource_path</span><span class="p">(</span><span class="s2">&quot;assets/icons/trash_hopping.svg&quot;</span><span class="p">)))</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">remove_row_btn</span><span class="o">.</span><span class="n">setToolTip</span><span class="p">(</span><span class="s2">&quot;Delete Hopping&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">remove_row_btn</span><span class="o">.</span><span class="n">setStatusTip</span><span class="p">(</span>
            <span class="s2">&quot;Delete the selected hopping integral.&quot;</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">save_btn</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">save_btn</span><span class="o">.</span><span class="n">setIcon</span><span class="p">(</span>
            <span class="n">QIcon</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">get_resource_path</span><span class="p">(</span><span class="s2">&quot;assets/icons/save_hopping.svg&quot;</span><span class="p">)))</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">save_btn</span><span class="o">.</span><span class="n">setToolTip</span><span class="p">(</span><span class="s2">&quot;Save Hoppings&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">save_btn</span><span class="o">.</span><span class="n">setStatusTip</span><span class="p">(</span><span class="s2">&quot;Save the Hopping table.&quot;</span><span class="p">)</span>

        <span class="n">table_buttons_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">add_row_btn</span><span class="p">)</span>
        <span class="n">table_buttons_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">remove_row_btn</span><span class="p">)</span>
        <span class="n">table_buttons_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">save_btn</span><span class="p">)</span>

        <span class="c1"># Table for hopping details</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hopping_table</span> <span class="o">=</span> <span class="n">QTableWidget</span><span class="p">(</span>
            <span class="mi">0</span><span class="p">,</span> <span class="mi">5</span>
        <span class="p">)</span>  <span class="c1"># 5 columns: d1, d2, d3, Re(amplitude), Im(amplitude)</span>

        <span class="n">headers</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;d₁&quot;</span><span class="p">,</span> <span class="s2">&quot;d₂&quot;</span><span class="p">,</span> <span class="s2">&quot;d₃&quot;</span><span class="p">,</span> <span class="s2">&quot;Re(t)&quot;</span><span class="p">,</span> <span class="s2">&quot;Im(t)&quot;</span><span class="p">]</span>
        <span class="n">tooltips</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s2">&quot;Displacement along v₁&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Displacement along v₂&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Displacement along v₃&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Real part&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Imaginary part&quot;</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="n">statustips</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s2">&quot;Number of v₁&#39;s from the origin site to the destination site&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Number of v₂&#39;s from the origin site to the destination site&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Number of v₃&#39;s from the origin site to the destination site&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Real part of hopping amplitude&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Imaginary part of hopping amplitude&quot;</span><span class="p">,</span>
        <span class="p">]</span>

        <span class="c1"># Assign headers with tooltips</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="n">tip</span><span class="p">,</span> <span class="n">status</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span>
            <span class="nb">zip</span><span class="p">(</span><span class="n">headers</span><span class="p">,</span> <span class="n">tooltips</span><span class="p">,</span> <span class="n">statustips</span><span class="p">)</span>
        <span class="p">):</span>
            <span class="n">item</span> <span class="o">=</span> <span class="n">QTableWidgetItem</span><span class="p">(</span><span class="n">label</span><span class="p">)</span>
            <span class="n">item</span><span class="o">.</span><span class="n">setToolTip</span><span class="p">(</span><span class="n">tip</span><span class="p">)</span>
            <span class="n">item</span><span class="o">.</span><span class="n">setStatusTip</span><span class="p">(</span><span class="n">status</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">hopping_table</span><span class="o">.</span><span class="n">setHorizontalHeaderItem</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>

        <span class="c1"># Get font metrics for the spinbox&#39;s current font</span>
        <span class="n">font_metrics</span> <span class="o">=</span> <span class="n">QFontMetrics</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hopping_table</span><span class="o">.</span><span class="n">font</span><span class="p">())</span>

        <span class="c1"># Add some padding for margins, borders, and spin buttons</span>
        <span class="n">padding</span> <span class="o">=</span> <span class="mi">5</span>  <span class="c1"># Adjust as needed</span>

        <span class="n">col_widths</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="n">font_metrics</span><span class="o">.</span><span class="n">horizontalAdvance</span><span class="p">(</span><span class="s2">&quot;0&quot;</span> <span class="o">*</span> <span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="n">padding</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>  <span class="c1"># d₁, d₂, d₃, Re(t), Im(t)</span>
        <span class="p">]</span>
        <span class="k">for</span> <span class="n">ii</span><span class="p">,</span> <span class="n">width</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">col_widths</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">hopping_table</span><span class="o">.</span><span class="n">setColumnWidth</span><span class="p">(</span><span class="n">ii</span><span class="p">,</span> <span class="n">width</span><span class="p">)</span>
        <span class="n">scrollbar_width</span> <span class="o">=</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">hopping_table</span><span class="o">.</span><span class="n">verticalScrollBar</span><span class="p">()</span><span class="o">.</span><span class="n">sizeHint</span><span class="p">()</span><span class="o">.</span><span class="n">width</span><span class="p">()</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">hopping_table</span><span class="o">.</span><span class="n">setFixedWidth</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">col_widths</span><span class="p">)</span> <span class="o">+</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">scrollbar_width</span><span class="p">)</span>
        <span class="c1"># Table and buttons layout</span>
        <span class="n">control_layout</span> <span class="o">=</span> <span class="n">QHBoxLayout</span><span class="p">()</span>
        <span class="n">control_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hopping_table</span><span class="p">)</span>
        <span class="n">control_layout</span><span class="o">.</span><span class="n">addLayout</span><span class="p">(</span><span class="n">table_buttons_layout</span><span class="p">)</span>

        <span class="n">scroll_area</span> <span class="o">=</span> <span class="n">QScrollArea</span><span class="p">()</span>
        <span class="n">scroll_area</span><span class="o">.</span><span class="n">setWidgetResizable</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">scroll_area</span><span class="o">.</span><span class="n">setWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">table_title</span><span class="p">)</span>
        <span class="n">scroll_area</span><span class="o">.</span><span class="n">setFrameStyle</span><span class="p">(</span><span class="n">QFrame</span><span class="o">.</span><span class="n">NoFrame</span><span class="p">)</span>
        <span class="n">content_height</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">table_title</span><span class="o">.</span><span class="n">sizeHint</span><span class="p">()</span><span class="o">.</span><span class="n">height</span><span class="p">()</span>
        <span class="n">scroll_area</span><span class="o">.</span><span class="n">setMaximumHeight</span><span class="p">(</span><span class="n">content_height</span> <span class="o">+</span> <span class="mi">20</span><span class="p">)</span>

        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">scroll_area</span><span class="p">)</span>
        <span class="n">layout</span><span class="o">.</span><span class="n">addLayout</span><span class="p">(</span><span class="n">control_layout</span><span class="p">)</span>
        <span class="c1"># Format the buttons</span>
        <span class="n">icon_size</span> <span class="o">=</span> <span class="n">QSize</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">btn</span> <span class="ow">in</span> <span class="p">[</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_row_btn</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">remove_row_btn</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">save_btn</span><span class="p">,</span>
        <span class="p">]:</span>
            <span class="n">set_button_size</span><span class="p">(</span><span class="n">btn</span><span class="p">,</span> <span class="s2">&quot;compact&quot;</span><span class="p">)</span>
            <span class="n">btn</span><span class="o">.</span><span class="n">setIconSize</span><span class="p">(</span><span class="n">icon_size</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="TiBi.views.panels.SitePanel" class="doc doc-heading">
            <code>TiBi.views.panels.SitePanel</code>


<a href="#TiBi.views.panels.SitePanel" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="PySide6.QtWidgets.QWidget">QWidget</span></code></p>


        <p>Form panel for editing site properties.</p>
<p>This panel provides a form interface for editing a site's properties:</p>
<ul>
<li>Radius for the site marker</li>
<li>Color for the site marker</li>
<li>Fractional coordinates (c1, c2, c3) within the unit cell</li>
</ul>







              <details class="quote">
                <summary>Source code in <code>TiBi/views/panels/site_panel.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">SitePanel</span><span class="p">(</span><span class="n">QWidget</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Form panel for editing site properties.</span>

<span class="sd">    This panel provides a form interface for editing a site&#39;s properties:</span>

<span class="sd">    - Radius for the site marker</span>
<span class="sd">    - Color for the site marker</span>
<span class="sd">    - Fractional coordinates (c1, c2, c3) within the unit cell</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>

        <span class="c1"># Main layout</span>
        <span class="n">layout</span> <span class="o">=</span> <span class="n">QVBoxLayout</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

        <span class="n">panel_header</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;Site Parameters&quot;</span><span class="p">)</span>
        <span class="n">panel_header</span><span class="o">.</span><span class="n">setProperty</span><span class="p">(</span><span class="s2">&quot;style&quot;</span><span class="p">,</span> <span class="s2">&quot;bold&quot;</span><span class="p">)</span>
        <span class="n">panel_header</span><span class="o">.</span><span class="n">setAlignment</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignCenter</span><span class="p">)</span>

        <span class="n">header</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;Site Coordinates&quot;</span><span class="p">)</span>
        <span class="n">header</span><span class="o">.</span><span class="n">setAlignment</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignCenter</span><span class="p">)</span>

        <span class="c1"># Coordinate and radius fields</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">R</span> <span class="o">=</span> <span class="n">EnterKeySpinBox</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">c1</span> <span class="o">=</span> <span class="n">EnterKeySpinBox</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">c2</span> <span class="o">=</span> <span class="n">EnterKeySpinBox</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">c3</span> <span class="o">=</span> <span class="n">EnterKeySpinBox</span><span class="p">()</span>

        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">R</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">c1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">c2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">c3</span><span class="p">]:</span>
            <span class="n">c</span><span class="o">.</span><span class="n">setRange</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
            <span class="n">c</span><span class="o">.</span><span class="n">setDecimals</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
            <span class="n">c</span><span class="o">.</span><span class="n">setButtonSymbols</span><span class="p">(</span><span class="n">EnterKeySpinBox</span><span class="o">.</span><span class="n">NoButtons</span><span class="p">)</span>
            <span class="n">set_spinbox_digit_width</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>

        <span class="c1"># Color picker button</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">color_picker_btn</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">color_picker_btn</span><span class="o">.</span><span class="n">setFixedWidth</span><span class="p">(</span><span class="mi">25</span><span class="p">)</span>

        <span class="n">appearance_layout</span> <span class="o">=</span> <span class="n">QHBoxLayout</span><span class="p">()</span>
        <span class="n">appearance_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;Radius:&quot;</span><span class="p">))</span>
        <span class="n">appearance_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">R</span><span class="p">)</span>
        <span class="n">appearance_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;Color:&quot;</span><span class="p">))</span>
        <span class="n">appearance_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">color_picker_btn</span><span class="p">)</span>

        <span class="c1"># Create a grid layout with labels on top and spin boxes below</span>
        <span class="n">c1_label</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;c&lt;sub&gt;1&lt;/sub&gt;&quot;</span><span class="p">)</span>
        <span class="n">c1_label</span><span class="o">.</span><span class="n">setAlignment</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignCenter</span><span class="p">)</span>
        <span class="n">c2_label</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;c&lt;sub&gt;2&lt;/sub&gt;&quot;</span><span class="p">)</span>
        <span class="n">c2_label</span><span class="o">.</span><span class="n">setAlignment</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignCenter</span><span class="p">)</span>
        <span class="n">c3_label</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;c&lt;sub&gt;3&lt;/sub&gt;&quot;</span><span class="p">)</span>
        <span class="n">c3_label</span><span class="o">.</span><span class="n">setAlignment</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignCenter</span><span class="p">)</span>

        <span class="n">grid_layout</span> <span class="o">=</span> <span class="n">QGridLayout</span><span class="p">()</span>
        <span class="n">grid_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">c1_label</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">grid_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">c2_label</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">grid_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">c3_label</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

        <span class="n">grid_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">c1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">grid_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">c2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">grid_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">c3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
        <span class="n">grid_layout</span><span class="o">.</span><span class="n">setVerticalSpacing</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">panel_header</span><span class="p">)</span>
        <span class="n">layout</span><span class="o">.</span><span class="n">addLayout</span><span class="p">(</span><span class="n">appearance_layout</span><span class="p">)</span>
        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">header</span><span class="p">)</span>
        <span class="n">layout</span><span class="o">.</span><span class="n">addLayout</span><span class="p">(</span><span class="n">grid_layout</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="TiBi.views.panels.tree_view_panel.TreeDelegate" class="doc doc-heading">
            <code>TiBi.views.panels.tree_view_panel.TreeDelegate</code>


<a href="#TiBi.views.panels.tree_view_panel.TreeDelegate" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="PySide6.QtWidgets.QStyledItemDelegate">QStyledItemDelegate</span></code></p>


        <p>A custom item delegate for the <code>SystemTree</code> widget.</p>
<p>This delegate requires the user to commit changes to tree item names by
pressing "Enter". Clicking away/defocusing resets the tree item name to
its pre-edit form. The purpose is to handle the Qt default behavior,
where defocusing keeps the new display name in the tree but does not send
an updated signal so that the data can be updated internally.
Additionally, the delegate draws rectangular "Delete" and "Add" buttons
next to the item names.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="TiBi.views.panels.tree_view_panel.TreeDelegate.name_edit_finished">name_edit_finished</span></code></td>
            <td>
                  <code><span title="PySide6.QtCore.Signal">Signal</span>(<span title="object">object</span>)</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Emitted when the user finishes editing an item name.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="TiBi.views.panels.tree_view_panel.TreeDelegate.new_unit_cell_requested">new_unit_cell_requested</span></code></td>
            <td>
                  <code><span title="PySide6.QtCore.Signal">Signal</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Emitted when the user clicks the "Add Unit Cell" button.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="TiBi.views.panels.tree_view_panel.TreeDelegate.new_site_requested">new_site_requested</span></code></td>
            <td>
                  <code><span title="PySide6.QtCore.Signal">Signal</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Emitted when the user adds a new <code>Site</code>.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="TiBi.views.panels.tree_view_panel.TreeDelegate.new_state_requested">new_state_requested</span></code></td>
            <td>
                  <code><span title="PySide6.QtCore.Signal">Signal</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Emitted when the user adds a new <code>State</code>.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="TiBi.views.panels.tree_view_panel.TreeDelegate.delete_requested">delete_requested</span></code></td>
            <td>
                  <code><span title="PySide6.QtCore.Signal">Signal</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Emitted when the user clicks the "Delete" button next to an item.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>







              <details class="quote">
                <summary>Source code in <code>TiBi/views/panels/tree_view_panel.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 11</span>
<span class="normal"> 12</span>
<span class="normal"> 13</span>
<span class="normal"> 14</span>
<span class="normal"> 15</span>
<span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">TreeDelegate</span><span class="p">(</span><span class="n">QStyledItemDelegate</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A custom item delegate for the `SystemTree` widget.</span>

<span class="sd">    This delegate requires the user to commit changes to tree item names by</span>
<span class="sd">    pressing &quot;Enter&quot;. Clicking away/defocusing resets the tree item name to</span>
<span class="sd">    its pre-edit form. The purpose is to handle the Qt default behavior,</span>
<span class="sd">    where defocusing keeps the new display name in the tree but does not send</span>
<span class="sd">    an updated signal so that the data can be updated internally.</span>
<span class="sd">    Additionally, the delegate draws rectangular &quot;Delete&quot; and &quot;Add&quot; buttons</span>
<span class="sd">    next to the item names.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    name_edit_finished : Signal(object)</span>
<span class="sd">        Emitted when the user finishes editing an item name.</span>
<span class="sd">    new_unit_cell_requested : Signal</span>
<span class="sd">        Emitted when the user clicks the &quot;Add Unit Cell&quot; button.</span>
<span class="sd">    new_site_requested : Signal</span>
<span class="sd">        Emitted when the user adds a new `Site`.</span>
<span class="sd">    new_state_requested : Signal</span>
<span class="sd">        Emitted when the user adds a new `State`.</span>
<span class="sd">    delete_requested : Signal</span>
<span class="sd">        Emitted when the user clicks the &quot;Delete&quot; button next to an item.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name_edit_finished</span> <span class="o">=</span> <span class="n">Signal</span><span class="p">(</span><span class="nb">object</span><span class="p">)</span>  <span class="c1"># Emits QModelIndex</span>
    <span class="n">new_unit_cell_requested</span> <span class="o">=</span> <span class="n">Signal</span><span class="p">()</span>
    <span class="n">new_site_requested</span> <span class="o">=</span> <span class="n">Signal</span><span class="p">()</span>
    <span class="n">new_state_requested</span> <span class="o">=</span> <span class="n">Signal</span><span class="p">()</span>
    <span class="n">delete_requested</span> <span class="o">=</span> <span class="n">Signal</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">parent</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_editing_index</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">delete_renderer</span> <span class="o">=</span> <span class="n">QSvgRenderer</span><span class="p">(</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">get_resource_path</span><span class="p">(</span><span class="s2">&quot;assets/icons/trash.svg&quot;</span><span class="p">))</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_renderer</span> <span class="o">=</span> <span class="n">QSvgRenderer</span><span class="p">(</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">get_resource_path</span><span class="p">(</span><span class="s2">&quot;assets/icons/plus.svg&quot;</span><span class="p">))</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_button_rects</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">option</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Regions defining the item buttons.&quot;&quot;&quot;</span>
        <span class="n">size</span> <span class="o">=</span> <span class="mi">16</span>
        <span class="n">margin</span> <span class="o">=</span> <span class="mi">4</span>
        <span class="n">right</span> <span class="o">=</span> <span class="n">option</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">right</span><span class="p">()</span> <span class="o">-</span> <span class="n">margin</span>

        <span class="n">buttons</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">buttons</span><span class="p">[</span><span class="s2">&quot;delete&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">QRect</span><span class="p">(</span>
            <span class="n">right</span> <span class="o">-</span> <span class="n">size</span><span class="p">,</span> <span class="n">option</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">center</span><span class="p">()</span><span class="o">.</span><span class="n">y</span><span class="p">()</span> <span class="o">-</span> <span class="n">size</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">size</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_item_level</span><span class="p">(</span><span class="n">index</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
            <span class="n">buttons</span><span class="p">[</span><span class="s2">&quot;add&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">QRect</span><span class="p">(</span>
                <span class="n">right</span> <span class="o">-</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">size</span> <span class="o">-</span> <span class="n">margin</span><span class="p">,</span>
                <span class="n">option</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">center</span><span class="p">()</span><span class="o">.</span><span class="n">y</span><span class="p">()</span> <span class="o">-</span> <span class="n">size</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span>
                <span class="n">size</span><span class="p">,</span>
                <span class="n">size</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="n">buttons</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_get_item_level</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Determine the tree level of the item (0=UnitCell, 1=Site, 2=State)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">level</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">current</span> <span class="o">=</span> <span class="n">index</span>
        <span class="k">while</span> <span class="n">current</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span><span class="o">.</span><span class="n">isValid</span><span class="p">():</span>
            <span class="n">level</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">current</span> <span class="o">=</span> <span class="n">current</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">level</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">createEditor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">option</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="n">editor</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">createEditor</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="n">option</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
        <span class="n">editor</span><span class="o">.</span><span class="n">setProperty</span><span class="p">(</span>
            <span class="s2">&quot;originalText&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">data</span><span class="p">()</span>
        <span class="p">)</span>  <span class="c1"># Save the original name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_editing_index</span> <span class="o">=</span> <span class="n">index</span>
        <span class="k">return</span> <span class="n">editor</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">paint</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">painter</span><span class="p">,</span> <span class="n">option</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">index</span><span class="o">.</span><span class="n">data</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">UserRole</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;ADD_UNIT_CELL&quot;</span><span class="p">:</span>
            <span class="c1"># Custom paint for &quot;Add Unit Cell&quot; item</span>
            <span class="n">painter</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
            <span class="c1"># Get the full width of the viewport (the whole row)</span>
            <span class="n">tree</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
            <span class="n">full_rect</span> <span class="o">=</span> <span class="n">QRect</span><span class="p">(</span>
                <span class="mi">0</span><span class="p">,</span>
                <span class="n">option</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">y</span><span class="p">(),</span>
                <span class="n">tree</span><span class="o">.</span><span class="n">viewport</span><span class="p">()</span><span class="o">.</span><span class="n">width</span><span class="p">(),</span>
                <span class="n">option</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">height</span><span class="p">(),</span>
            <span class="p">)</span>

            <span class="c1"># Draw background across the full width</span>
            <span class="n">painter</span><span class="o">.</span><span class="n">fillRect</span><span class="p">(</span>
                <span class="n">full_rect</span><span class="p">,</span>
                <span class="n">QColor</span><span class="p">(</span><span class="o">*</span><span class="n">hex_to_rgb</span><span class="p">(</span><span class="n">THEME_SETTINGS</span><span class="p">[</span><span class="s2">&quot;PRIMARY_HEX&quot;</span><span class="p">])),</span>
            <span class="p">)</span>

            <span class="c1"># Text formatting</span>
            <span class="n">painter</span><span class="o">.</span><span class="n">setPen</span><span class="p">(</span><span class="n">QColor</span><span class="p">(</span><span class="o">*</span><span class="n">hex_to_rgb</span><span class="p">(</span><span class="n">THEME_SETTINGS</span><span class="p">[</span><span class="s2">&quot;ON_PRIMARY&quot;</span><span class="p">])))</span>
            <span class="n">font</span> <span class="o">=</span> <span class="n">painter</span><span class="o">.</span><span class="n">font</span><span class="p">()</span>
            <span class="n">painter</span><span class="o">.</span><span class="n">setFont</span><span class="p">(</span><span class="n">font</span><span class="p">)</span>

            <span class="c1"># Adjust text inside the original rect (with padding)</span>
            <span class="n">text_rect</span> <span class="o">=</span> <span class="n">option</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">adjusted</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">8</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
            <span class="n">painter</span><span class="o">.</span><span class="n">drawText</span><span class="p">(</span><span class="n">text_rect</span><span class="p">,</span> <span class="n">Qt</span><span class="o">.</span><span class="n">AlignVCenter</span><span class="p">,</span> <span class="s2">&quot;+ Add Unit Cell&quot;</span><span class="p">)</span>

            <span class="n">painter</span><span class="o">.</span><span class="n">restore</span><span class="p">()</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">paint</span><span class="p">(</span><span class="n">painter</span><span class="p">,</span> <span class="n">option</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
            <span class="c1"># Only show the delete icon for selected items</span>
            <span class="k">if</span> <span class="n">option</span><span class="o">.</span><span class="n">state</span> <span class="o">&amp;</span> <span class="n">QStyle</span><span class="o">.</span><span class="n">State_Selected</span><span class="p">:</span>
                <span class="n">rects</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_button_rects</span><span class="p">(</span><span class="n">option</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">delete_renderer</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">painter</span><span class="p">,</span> <span class="n">rects</span><span class="p">[</span><span class="s2">&quot;delete&quot;</span><span class="p">])</span>
                <span class="k">if</span> <span class="s2">&quot;add&quot;</span> <span class="ow">in</span> <span class="n">rects</span><span class="p">:</span>
                    <span class="c1"># painter.drawPixmap(rects[&quot;add&quot;], self.add_icon)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">add_renderer</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">painter</span><span class="p">,</span> <span class="n">rects</span><span class="p">[</span><span class="s2">&quot;add&quot;</span><span class="p">])</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">editorEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">option</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="c1"># Handle special &quot;Add Unit Cell&quot; item</span>
        <span class="k">if</span> <span class="n">index</span><span class="o">.</span><span class="n">data</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">UserRole</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;ADD_UNIT_CELL&quot;</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">type</span><span class="p">()</span> <span class="o">==</span> <span class="n">QEvent</span><span class="o">.</span><span class="n">MouseButtonRelease</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">option</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">pos</span><span class="p">()):</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">new_unit_cell_requested</span><span class="o">.</span><span class="n">emit</span><span class="p">()</span>
                    <span class="k">return</span> <span class="kc">True</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="n">rects</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_button_rects</span><span class="p">(</span><span class="n">option</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">type</span><span class="p">()</span> <span class="o">==</span> <span class="n">QEvent</span><span class="o">.</span><span class="n">MouseButtonPress</span><span class="p">:</span>
            <span class="c1"># Store whether the item was selected before this click</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_was_selected_before_click</span> <span class="o">=</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span><span class="o">.</span><span class="n">selectionModel</span><span class="p">()</span><span class="o">.</span><span class="n">isSelected</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">editorEvent</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">option</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>

        <span class="k">elif</span> <span class="n">event</span><span class="o">.</span><span class="n">type</span><span class="p">()</span> <span class="o">==</span> <span class="n">QEvent</span><span class="o">.</span><span class="n">MouseButtonRelease</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">rects</span><span class="p">[</span><span class="s2">&quot;delete&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">pos</span><span class="p">()):</span>
                <span class="c1"># Only trigger delete if the item was already selected</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_was_selected_before_click</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">delete_requested</span><span class="o">.</span><span class="n">emit</span><span class="p">()</span>
                    <span class="k">return</span> <span class="kc">True</span>
                <span class="c1"># If it wasn&#39;t selected before, the click selects the item</span>
                <span class="k">return</span> <span class="kc">False</span>
            <span class="k">elif</span> <span class="p">(</span><span class="s2">&quot;add&quot;</span> <span class="ow">in</span> <span class="n">rects</span><span class="p">)</span> <span class="ow">and</span> <span class="n">rects</span><span class="p">[</span><span class="s2">&quot;add&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">pos</span><span class="p">()):</span>
                <span class="c1"># Only trigger delete if the item was already selected</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_was_selected_before_click</span><span class="p">:</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_item_level</span><span class="p">(</span><span class="n">index</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">new_site_requested</span><span class="o">.</span><span class="n">emit</span><span class="p">()</span>
                    <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_item_level</span><span class="p">(</span><span class="n">index</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">new_state_requested</span><span class="o">.</span><span class="n">emit</span><span class="p">()</span>
                    <span class="k">return</span> <span class="kc">True</span>
                <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">editorEvent</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">option</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">eventFilter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">editor</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">type</span><span class="p">()</span> <span class="o">==</span> <span class="n">QEvent</span><span class="o">.</span><span class="n">FocusOut</span><span class="p">:</span>
            <span class="c1"># Restore original text on focus loss (cancel edit)</span>
            <span class="n">editor</span><span class="o">.</span><span class="n">blockSignals</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
            <span class="n">editor</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">editor</span><span class="o">.</span><span class="n">property</span><span class="p">(</span><span class="s2">&quot;originalText&quot;</span><span class="p">))</span>
            <span class="n">editor</span><span class="o">.</span><span class="n">blockSignals</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">closeEditor</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="n">editor</span><span class="p">,</span> <span class="n">QStyledItemDelegate</span><span class="o">.</span><span class="n">RevertModelCache</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">True</span>

        <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">type</span><span class="p">()</span> <span class="o">==</span> <span class="n">QEvent</span><span class="o">.</span><span class="n">KeyPress</span> <span class="ow">and</span> <span class="n">event</span><span class="o">.</span><span class="n">key</span><span class="p">()</span> <span class="ow">in</span> <span class="p">(</span>
            <span class="n">Qt</span><span class="o">.</span><span class="n">Key_Return</span><span class="p">,</span>
            <span class="n">Qt</span><span class="o">.</span><span class="n">Key_Enter</span><span class="p">,</span>
        <span class="p">):</span>
            <span class="c1"># User manually pressed Enter or Return — accept the edit</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">commitData</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="n">editor</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">closeEditor</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="n">editor</span><span class="p">,</span> <span class="n">QStyledItemDelegate</span><span class="o">.</span><span class="n">NoHint</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_editing_index</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">name_edit_finished</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_editing_index</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_editing_index</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">return</span> <span class="kc">True</span>

        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">eventFilter</span><span class="p">(</span><span class="n">editor</span><span class="p">,</span> <span class="n">event</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="TiBi.views.panels.TreeViewPanel" class="doc doc-heading">
            <code>TiBi.views.panels.TreeViewPanel</code>


<a href="#TiBi.views.panels.TreeViewPanel" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="PySide6.QtWidgets.QWidget">QWidget</span></code></p>


        <p>Tree view panel for displaying and selecting the unit cell hierarchy.</p>
<p>This panel displays a hierarchical tree showing <code>UnitCell</code>s, their <code>Site</code>s,
and the <code>State</code>s at each <code>Site</code>.
It handles selection events and emits signals when different types
of nodes are selected, allowing other components to respond appropriately.</p>
<p>The tree has three levels:</p>
<ol>
<li><code>UnitCell</code>s</li>
<li><code>Sites</code> within a <code>UnitCell</code></li>
<li><code>State</code>s within a <code>Site</code></li>
</ol>
<p>Features:</p>
<ul>
<li>Hierarchical display of unit cells, sites, and states</li>
<li>Single selection mode for focused editing</li>
<li>Double-click to edit names directly in the tree</li>
<li>Keyboard shortcuts for deletion (Del and Backspace)</li>
<li>Signal emission on deletion requests</li>
</ul>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="TiBi.views.panels.TreeViewPanel.delegate">delegate</span></code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="TiBi.views.panels.tree_view_panel.TreeDelegate" href="#TiBi.views.panels.tree_view_panel.TreeDelegate">TreeDelegate</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Custom tree delegate for handling item editing and button actions.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="TiBi.views.panels.TreeViewPanel.tree_view">tree_view</span></code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="TiBi.views.widgets.SystemTree" href="#TiBi.views.widgets.SystemTree">SystemTree</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The tree view widget displaying the unit cell hierarchy.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="TiBi.views.panels.TreeViewPanel.name_edit_finished">name_edit_finished</span></code></td>
            <td>
                  <code><span title="PySide6.QtCore.Signal">Signal</span>(<span title="object">object</span>)</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Emitted when the user finishes editing an item name.
Re-emitting signal from the <code>TreeDelegate</code>.`</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="TiBi.views.panels.TreeViewPanel.new_unit_cell_requested">new_unit_cell_requested</span></code></td>
            <td>
                  <code><span title="PySide6.QtCore.Signal">Signal</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Emitted when the user clicks the "Add Unit Cell" button.
Re-emitting signal from the <code>TreeDelegate</code>.`</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="TiBi.views.panels.TreeViewPanel.new_site_requested">new_site_requested</span></code></td>
            <td>
                  <code><span title="PySide6.QtCore.Signal">Signal</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Emitted when the user adds a new <code>Site</code>.
Re-emitting signal from the <code>TreeDelegate</code>.`</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="TiBi.views.panels.TreeViewPanel.new_state_requested">new_state_requested</span></code></td>
            <td>
                  <code><span title="PySide6.QtCore.Signal">Signal</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Emitted when the user adds a new <code>State</code>.
Re-emitting signal from the <code>TreeDelegate</code>.`</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="TiBi.views.panels.TreeViewPanel.delete_requested">delete_requested</span></code></td>
            <td>
                  <code><span title="PySide6.QtCore.Signal">Signal</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Emitted when the user presses the Delete/Backspace key.
Also acts as a re-emitting signal for deletion requests
from the <code>TreeDelegate</code>.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>







              <details class="quote">
                <summary>Source code in <code>TiBi/views/panels/tree_view_panel.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">TreeViewPanel</span><span class="p">(</span><span class="n">QWidget</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Tree view panel for displaying and selecting the unit cell hierarchy.</span>

<span class="sd">    This panel displays a hierarchical tree showing `UnitCell`s, their `Site`s,</span>
<span class="sd">    and the `State`s at each `Site`.</span>
<span class="sd">    It handles selection events and emits signals when different types</span>
<span class="sd">    of nodes are selected, allowing other components to respond appropriately.</span>

<span class="sd">    The tree has three levels:</span>

<span class="sd">    1. `UnitCell`s</span>
<span class="sd">    2. `Sites` within a `UnitCell`</span>
<span class="sd">    3. `State`s within a `Site`</span>

<span class="sd">    Features:</span>

<span class="sd">    - Hierarchical display of unit cells, sites, and states</span>
<span class="sd">    - Single selection mode for focused editing</span>
<span class="sd">    - Double-click to edit names directly in the tree</span>
<span class="sd">    - Keyboard shortcuts for deletion (Del and Backspace)</span>
<span class="sd">    - Signal emission on deletion requests</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    delegate : TreeDelegate</span>
<span class="sd">        Custom tree delegate for handling item editing and button actions.</span>
<span class="sd">    tree_view : SystemTree</span>
<span class="sd">        The tree view widget displaying the unit cell hierarchy.</span>
<span class="sd">    name_edit_finished : Signal(object)</span>
<span class="sd">        Emitted when the user finishes editing an item name.</span>
<span class="sd">        Re-emitting signal from the `TreeDelegate`.`</span>
<span class="sd">    new_unit_cell_requested : Signal</span>
<span class="sd">        Emitted when the user clicks the &quot;Add Unit Cell&quot; button.</span>
<span class="sd">        Re-emitting signal from the `TreeDelegate`.`</span>
<span class="sd">    new_site_requested : Signal</span>
<span class="sd">        Emitted when the user adds a new `Site`.</span>
<span class="sd">        Re-emitting signal from the `TreeDelegate`.`</span>
<span class="sd">    new_state_requested : Signal</span>
<span class="sd">        Emitted when the user adds a new `State`.</span>
<span class="sd">        Re-emitting signal from the `TreeDelegate`.`</span>
<span class="sd">    delete_requested : Signal</span>
<span class="sd">        Emitted when the user presses the Delete/Backspace key.</span>
<span class="sd">        Also acts as a re-emitting signal for deletion requests</span>
<span class="sd">        from the `TreeDelegate`.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># Define signals</span>
    <span class="n">name_edit_finished</span> <span class="o">=</span> <span class="n">Signal</span><span class="p">(</span><span class="nb">object</span><span class="p">)</span>  <span class="c1"># Emits QModelIndex</span>
    <span class="n">new_unit_cell_requested</span> <span class="o">=</span> <span class="n">Signal</span><span class="p">()</span>
    <span class="n">new_site_requested</span> <span class="o">=</span> <span class="n">Signal</span><span class="p">()</span>
    <span class="n">new_state_requested</span> <span class="o">=</span> <span class="n">Signal</span><span class="p">()</span>
    <span class="n">delete_requested</span> <span class="o">=</span> <span class="n">Signal</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>

        <span class="c1"># Create and configure tree view</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tree_view</span> <span class="o">=</span> <span class="n">SystemTree</span><span class="p">()</span>

        <span class="c1"># Set the delegate to save the data only on Enter-press</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">delegate</span> <span class="o">=</span> <span class="n">TreeDelegate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tree_view</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tree_view</span><span class="o">.</span><span class="n">setItemDelegate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">delegate</span><span class="p">)</span>

        <span class="c1"># Layout</span>
        <span class="n">layout</span> <span class="o">=</span> <span class="n">QVBoxLayout</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tree_view</span><span class="p">)</span>

        <span class="c1"># Set up Delete shortcut</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">delete_shortcut</span> <span class="o">=</span> <span class="n">QShortcut</span><span class="p">(</span><span class="n">QKeySequence</span><span class="p">(</span><span class="s2">&quot;Del&quot;</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">tree_view</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">delete_shortcut</span><span class="o">.</span><span class="n">activated</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
            <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">delete_requested</span><span class="o">.</span><span class="n">emit</span><span class="p">()</span>
        <span class="p">)</span>

        <span class="c1"># Add Backspace as an alternative shortcut</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">backspace_shortcut</span> <span class="o">=</span> <span class="n">QShortcut</span><span class="p">(</span>
            <span class="n">QKeySequence</span><span class="p">(</span><span class="s2">&quot;Backspace&quot;</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">tree_view</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">backspace_shortcut</span><span class="o">.</span><span class="n">activated</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
            <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">delete_requested</span><span class="o">.</span><span class="n">emit</span><span class="p">()</span>
        <span class="p">)</span>

        <span class="c1"># Relay delegate signals</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">delegate</span><span class="o">.</span><span class="n">delete_requested</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
            <span class="k">lambda</span><span class="p">:</span> <span class="n">QTimer</span><span class="o">.</span><span class="n">singleShot</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">delete_requested</span><span class="o">.</span><span class="n">emit</span><span class="p">())</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">delegate</span><span class="o">.</span><span class="n">new_unit_cell_requested</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
            <span class="k">lambda</span><span class="p">:</span> <span class="n">QTimer</span><span class="o">.</span><span class="n">singleShot</span><span class="p">(</span>
                <span class="mi">0</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">new_unit_cell_requested</span><span class="o">.</span><span class="n">emit</span><span class="p">()</span>
            <span class="p">)</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">delegate</span><span class="o">.</span><span class="n">new_site_requested</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
            <span class="k">lambda</span><span class="p">:</span> <span class="n">QTimer</span><span class="o">.</span><span class="n">singleShot</span><span class="p">(</span>
                <span class="mi">0</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">new_site_requested</span><span class="o">.</span><span class="n">emit</span><span class="p">()</span>
            <span class="p">)</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">delegate</span><span class="o">.</span><span class="n">new_state_requested</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
            <span class="k">lambda</span><span class="p">:</span> <span class="n">QTimer</span><span class="o">.</span><span class="n">singleShot</span><span class="p">(</span>
                <span class="mi">0</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">new_state_requested</span><span class="o">.</span><span class="n">emit</span><span class="p">()</span>
            <span class="p">)</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">delegate</span><span class="o">.</span><span class="n">name_edit_finished</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
            <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">QTimer</span><span class="o">.</span><span class="n">singleShot</span><span class="p">(</span>
                <span class="mi">0</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">name_edit_finished</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
            <span class="p">)</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="TiBi.views.panels.UnitCellPanel" class="doc doc-heading">
            <code>TiBi.views.panels.UnitCellPanel</code>


<a href="#TiBi.views.panels.UnitCellPanel" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="PySide6.QtWidgets.QWidget">QWidget</span></code></p>


        <p>Form panel for editing unit cell properties.</p>
<p>This panel provides a form interface for editing a unit cell's properties:</p>
<ul>
<li>System dimensionality</li>
<li>Three basis vectors (v1, v2, v3) with x, y, z components</li>
</ul>


<p><span class="doc-section-title">Methods:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="set_basis_vectors(v1, v2, v3) (TiBi.views.panels.UnitCellPanel.set_basis_vectors)" href="#TiBi.views.panels.UnitCellPanel.set_basis_vectors">set_basis_vectors</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Set the basis vectors in the UI.</p>
                </div>
              </td>
            </tr>
      </tbody>
    </table>







              <details class="quote">
                <summary>Source code in <code>TiBi/views/panels/unit_cell_panel.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">UnitCellPanel</span><span class="p">(</span><span class="n">QWidget</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Form panel for editing unit cell properties.</span>

<span class="sd">    This panel provides a form interface for editing a unit cell&#39;s properties:</span>

<span class="sd">    - System dimensionality</span>
<span class="sd">    - Three basis vectors (v1, v2, v3) with x, y, z components</span>

<span class="sd">    Methods</span>
<span class="sd">    -------</span>
<span class="sd">    set_basis_vectors(v1: BasisVector, v2: BasisVector, v3: BasisVector)</span>
<span class="sd">        Set the basis vectors in the UI.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>

        <span class="c1"># Main layout</span>
        <span class="n">layout</span> <span class="o">=</span> <span class="n">QVBoxLayout</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

        <span class="c1"># Layout for basis vectors</span>
        <span class="n">grid_layout</span> <span class="o">=</span> <span class="n">QGridLayout</span><span class="p">()</span>

        <span class="n">panel_header</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;Unit Cell Parameters&quot;</span><span class="p">)</span>
        <span class="n">panel_header</span><span class="o">.</span><span class="n">setProperty</span><span class="p">(</span><span class="s2">&quot;style&quot;</span><span class="p">,</span> <span class="s2">&quot;bold&quot;</span><span class="p">)</span>
        <span class="n">panel_header</span><span class="o">.</span><span class="n">setAlignment</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignCenter</span><span class="p">)</span>

        <span class="n">dimensionality_header</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;Dimensionality&quot;</span><span class="p">)</span>
        <span class="n">dimensionality_header</span><span class="o">.</span><span class="n">setAlignment</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignCenter</span><span class="p">)</span>

        <span class="n">basis_header</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;Basis Vectors&quot;</span><span class="p">)</span>
        <span class="n">basis_header</span><span class="o">.</span><span class="n">setAlignment</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignCenter</span><span class="p">)</span>

        <span class="c1"># Dimensionality radio buttons</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">radio0D</span> <span class="o">=</span> <span class="n">QRadioButton</span><span class="p">(</span><span class="s2">&quot;0&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">radio1D</span> <span class="o">=</span> <span class="n">QRadioButton</span><span class="p">(</span><span class="s2">&quot;1&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">radio2D</span> <span class="o">=</span> <span class="n">QRadioButton</span><span class="p">(</span><span class="s2">&quot;2&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">radio3D</span> <span class="o">=</span> <span class="n">QRadioButton</span><span class="p">(</span><span class="s2">&quot;3&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">radio_group</span> <span class="o">=</span> <span class="n">QButtonGroup</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">radio_group</span><span class="o">.</span><span class="n">addButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">radio0D</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">radio_group</span><span class="o">.</span><span class="n">addButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">radio1D</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">radio_group</span><span class="o">.</span><span class="n">addButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">radio2D</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">radio_group</span><span class="o">.</span><span class="n">addButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">radio3D</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

        <span class="n">radio_layout</span> <span class="o">=</span> <span class="n">QHBoxLayout</span><span class="p">()</span>
        <span class="n">radio_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">radio0D</span><span class="p">)</span>
        <span class="n">radio_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">radio1D</span><span class="p">)</span>
        <span class="n">radio_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">radio2D</span><span class="p">)</span>
        <span class="n">radio_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">radio3D</span><span class="p">)</span>

        <span class="c1"># Add Site and Reduce UC (LLL algorithm) buttons</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">reduce_btn</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">reduce_btn</span><span class="o">.</span><span class="n">setToolTip</span><span class="p">(</span><span class="s2">&quot;Reduce Unit Cell&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">reduce_btn</span><span class="o">.</span><span class="n">setStatusTip</span><span class="p">(</span>
            <span class="s2">&quot;Reduce Unit Cell basis using Lenstra–Lenstra–Lovász algorithm&quot;</span>
        <span class="p">)</span>
        <span class="n">set_button_size</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">reduce_btn</span><span class="p">,</span> <span class="s2">&quot;small&quot;</span><span class="p">)</span>

        <span class="c1"># Assemble the panel</span>
        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">panel_header</span><span class="p">)</span>
        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">dimensionality_header</span><span class="p">)</span>
        <span class="n">layout</span><span class="o">.</span><span class="n">addLayout</span><span class="p">(</span><span class="n">radio_layout</span><span class="p">)</span>
        <span class="n">layout</span><span class="o">.</span><span class="n">addLayout</span><span class="p">(</span><span class="n">grid_layout</span><span class="p">)</span>

        <span class="c1"># Populate the basis vector grid</span>
        <span class="n">grid_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">basis_header</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
        <span class="n">grid_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">reduce_btn</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">reduce_btn</span><span class="o">.</span><span class="n">setIcon</span><span class="p">(</span>
            <span class="n">QIcon</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">get_resource_path</span><span class="p">(</span><span class="s2">&quot;assets/icons/grid.svg&quot;</span><span class="p">)))</span>
        <span class="p">)</span>

        <span class="c1"># Function to create a row with (x, y, z) input fields</span>
        <span class="k">def</span><span class="w"> </span><span class="nf">create_vector_column</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
            <span class="n">x</span> <span class="o">=</span> <span class="n">EnterKeySpinBox</span><span class="p">()</span>
            <span class="n">y</span> <span class="o">=</span> <span class="n">EnterKeySpinBox</span><span class="p">()</span>
            <span class="n">z</span> <span class="o">=</span> <span class="n">EnterKeySpinBox</span><span class="p">()</span>

            <span class="k">for</span> <span class="n">coord</span> <span class="ow">in</span> <span class="p">[</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">]:</span>
                <span class="n">coord</span><span class="o">.</span><span class="n">setButtonSymbols</span><span class="p">(</span><span class="n">EnterKeySpinBox</span><span class="o">.</span><span class="n">NoButtons</span><span class="p">)</span>
                <span class="n">coord</span><span class="o">.</span><span class="n">setRange</span><span class="p">(</span><span class="o">-</span><span class="mf">1e308</span><span class="p">,</span> <span class="mf">1e308</span><span class="p">)</span>
                <span class="n">set_spinbox_digit_width</span><span class="p">(</span><span class="n">coord</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
                <span class="n">coord</span><span class="o">.</span><span class="n">setDecimals</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>

            <span class="c1"># Vector components are stacked vertically</span>
            <span class="n">grid_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
            <span class="n">grid_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
            <span class="n">grid_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">z</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
            <span class="k">return</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">)</span>

        <span class="c1"># Create vector input columns</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">v1</span> <span class="o">=</span> <span class="n">create_vector_column</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">v2</span> <span class="o">=</span> <span class="n">create_vector_column</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">v3</span> <span class="o">=</span> <span class="n">create_vector_column</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>

        <span class="c1"># Vector labels go above the coordinate columns</span>
        <span class="n">v1_label</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;v&lt;sub&gt;1&lt;/sub&gt;&quot;</span><span class="p">)</span>
        <span class="n">v1_label</span><span class="o">.</span><span class="n">setAlignment</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignCenter</span><span class="p">)</span>
        <span class="n">v2_label</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;v&lt;sub&gt;2&lt;/sub&gt;&quot;</span><span class="p">)</span>
        <span class="n">v2_label</span><span class="o">.</span><span class="n">setAlignment</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignCenter</span><span class="p">)</span>
        <span class="n">v3_label</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;v&lt;sub&gt;3&lt;/sub&gt;&quot;</span><span class="p">)</span>
        <span class="n">v3_label</span><span class="o">.</span><span class="n">setAlignment</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignCenter</span><span class="p">)</span>

        <span class="n">grid_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">v1_label</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">grid_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">v2_label</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
        <span class="n">grid_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">v3_label</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>

        <span class="c1"># Create a coordinate label column to the left of coordinate columns</span>
        <span class="k">for</span> <span class="n">ii</span><span class="p">,</span> <span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">color</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span>
            <span class="nb">zip</span><span class="p">([</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="s2">&quot;z&quot;</span><span class="p">],</span> <span class="p">[</span><span class="n">CF_VERMILLION</span><span class="p">,</span> <span class="n">CF_GREEN</span><span class="p">,</span> <span class="n">CF_SKY</span><span class="p">]),</span> <span class="n">start</span><span class="o">=</span><span class="mi">1</span>
        <span class="p">):</span>
            <span class="n">label</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
            <span class="n">label</span><span class="o">.</span><span class="n">setAlignment</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignCenter</span><span class="p">)</span>
            <span class="n">c</span> <span class="o">=</span> <span class="p">(</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">color</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="mi">255</span><span class="p">),</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">color</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="mi">255</span><span class="p">),</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">color</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="mi">255</span><span class="p">),</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">color</span><span class="p">[</span><span class="mi">3</span><span class="p">]),</span>
            <span class="p">)</span>  <span class="c1"># Color in 0-255 component range</span>
            <span class="n">label</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;color: rgba(</span><span class="si">{</span><span class="n">c</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2">,</span><span class="si">{</span><span class="n">c</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2">,</span><span class="si">{</span><span class="n">c</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="si">}</span><span class="s2">,</span><span class="si">{</span><span class="n">c</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="si">}</span><span class="s2">);&quot;</span><span class="p">)</span>
            <span class="n">grid_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">ii</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

        <span class="n">grid_layout</span><span class="o">.</span><span class="n">setVerticalSpacing</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
        <span class="n">grid_layout</span><span class="o">.</span><span class="n">setColumnStretch</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">grid_layout</span><span class="o">.</span><span class="n">setColumnStretch</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">grid_layout</span><span class="o">.</span><span class="n">setColumnStretch</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">grid_layout</span><span class="o">.</span><span class="n">setColumnStretch</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">set_basis_vectors</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">v1</span><span class="p">:</span> <span class="n">BasisVector</span><span class="p">,</span> <span class="n">v2</span><span class="p">:</span> <span class="n">BasisVector</span><span class="p">,</span> <span class="n">v3</span><span class="p">:</span> <span class="n">BasisVector</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set the basis vectors in the UI.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        v1 : BasisVector</span>
<span class="sd">            Basis vector 1.</span>
<span class="sd">        v2 : BasisVector</span>
<span class="sd">            Basis vector 2.</span>
<span class="sd">        v3 : BasisVector</span>
<span class="sd">            Basis vector 3.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">ii</span><span class="p">,</span> <span class="n">coord</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="s2">&quot;xyz&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">v1</span><span class="p">[</span><span class="n">ii</span><span class="p">]</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">v1</span><span class="p">,</span> <span class="n">coord</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">v2</span><span class="p">[</span><span class="n">ii</span><span class="p">]</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">v2</span><span class="p">,</span> <span class="n">coord</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">v3</span><span class="p">[</span><span class="n">ii</span><span class="p">]</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">v3</span><span class="p">,</span> <span class="n">coord</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="TiBi.views.panels.UnitCellPanel.set_basis_vectors" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_basis_vectors</span><span class="p">(</span><span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">,</span> <span class="n">v3</span><span class="p">)</span></code>

<a href="#TiBi.views.panels.UnitCellPanel.set_basis_vectors" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Set the basis vectors in the UI.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>v1</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="TiBi.models.BasisVector


  
      dataclass
  " href="../models/#TiBi.models.BasisVector">BasisVector</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Basis vector 1.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>v2</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="TiBi.models.BasisVector


  
      dataclass
  " href="../models/#TiBi.models.BasisVector">BasisVector</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Basis vector 2.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>v3</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="TiBi.models.BasisVector


  
      dataclass
  " href="../models/#TiBi.models.BasisVector">BasisVector</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Basis vector 3.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>TiBi/views/panels/unit_cell_panel.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">set_basis_vectors</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">v1</span><span class="p">:</span> <span class="n">BasisVector</span><span class="p">,</span> <span class="n">v2</span><span class="p">:</span> <span class="n">BasisVector</span><span class="p">,</span> <span class="n">v3</span><span class="p">:</span> <span class="n">BasisVector</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Set the basis vectors in the UI.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    v1 : BasisVector</span>
<span class="sd">        Basis vector 1.</span>
<span class="sd">    v2 : BasisVector</span>
<span class="sd">        Basis vector 2.</span>
<span class="sd">    v3 : BasisVector</span>
<span class="sd">        Basis vector 3.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">ii</span><span class="p">,</span> <span class="n">coord</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="s2">&quot;xyz&quot;</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">v1</span><span class="p">[</span><span class="n">ii</span><span class="p">]</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">v1</span><span class="p">,</span> <span class="n">coord</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">v2</span><span class="p">[</span><span class="n">ii</span><span class="p">]</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">v2</span><span class="p">,</span> <span class="n">coord</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">v3</span><span class="p">[</span><span class="n">ii</span><span class="p">]</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">v3</span><span class="p">,</span> <span class="n">coord</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div><hr />
<h2 id="ui-widgets">UI Widgets<a class="headerlink" href="#ui-widgets" title="Permanent link">&para;</a></h2>


<div class="doc doc-object doc-class">



<h2 id="TiBi.views.widgets.CheckableComboBox" class="doc doc-heading">
            <code>TiBi.views.widgets.CheckableComboBox</code>


<a href="#TiBi.views.widgets.CheckableComboBox" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="PySide6.QtWidgets.QComboBox">QComboBox</span></code></p>


        <p>Drop-down box that supports multiple selections.</p>
<p>Selected items are denoted by ticks.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="TiBi.views.widgets.CheckableComboBox.selection_changed">selection_changed</span></code></td>
            <td>
                  <code><span title="PySide6.QtCore.Signal">Signal</span>(<span title="object">object</span>)</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Emitted when the selection changes. Even if multiple items
are selected/deselected, the signal is emitted once. The signal
carries a list of indices of the selected items.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Methods:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="checked_items() (TiBi.views.widgets.CheckableComboBox.checked_items)" href="#TiBi.views.widgets.CheckableComboBox.checked_items">checked_items</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Get the indices of the selected items.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="clear_selection() (TiBi.views.widgets.CheckableComboBox.clear_selection)" href="#TiBi.views.widgets.CheckableComboBox.clear_selection">clear_selection</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Deselect all items.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="refresh_combo(items) (TiBi.views.widgets.CheckableComboBox.refresh_combo)" href="#TiBi.views.widgets.CheckableComboBox.refresh_combo">refresh_combo</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Reset the menu with a new list of items.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="select_all() (TiBi.views.widgets.CheckableComboBox.select_all)" href="#TiBi.views.widgets.CheckableComboBox.select_all">select_all</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Select all items.</p>
                </div>
              </td>
            </tr>
      </tbody>
    </table>







              <details class="quote">
                <summary>Source code in <code>TiBi/views/widgets/checkable_combo_box.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span>
<span class="normal">95</span>
<span class="normal">96</span>
<span class="normal">97</span>
<span class="normal">98</span>
<span class="normal">99</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">CheckableComboBox</span><span class="p">(</span><span class="n">QComboBox</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Drop-down box that supports multiple selections.</span>

<span class="sd">    Selected items are denoted by ticks.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    selection_changed : Signal(object)</span>
<span class="sd">        Emitted when the selection changes. Even if multiple items</span>
<span class="sd">        are selected/deselected, the signal is emitted once. The signal</span>
<span class="sd">        carries a list of indices of the selected items.</span>

<span class="sd">    Methods</span>
<span class="sd">    -------</span>
<span class="sd">    checked_items</span>
<span class="sd">        Get the indices of the selected items.</span>
<span class="sd">    clear_selection</span>
<span class="sd">        Deselect all items.</span>
<span class="sd">    refresh_combo(list[str])</span>
<span class="sd">        Reset the menu with a new list of items.</span>
<span class="sd">    select_all</span>
<span class="sd">        Select all items.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">selection_changed</span> <span class="o">=</span> <span class="n">Signal</span><span class="p">(</span><span class="nb">object</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="c1"># Create model</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">combo_model</span> <span class="o">=</span> <span class="n">QStandardItemModel</span><span class="p">()</span>
        <span class="c1"># Set model to view</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setModel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">combo_model</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">combo_model</span><span class="o">.</span><span class="n">itemChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
            <span class="k">lambda</span> <span class="n">_</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">selection_changed</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">checked_items</span><span class="p">())</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">refresh_combo</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">items</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Reset the combo box with a new list of items.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        items : list[str]</span>
<span class="sd">            New list of items to be added to the menu.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">combo_model</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">items</span><span class="p">)):</span>
            <span class="c1"># for text in items:</span>
            <span class="n">text</span> <span class="o">=</span> <span class="n">items</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span>
            <span class="n">item</span> <span class="o">=</span> <span class="n">QStandardItem</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
            <span class="n">item</span><span class="o">.</span><span class="n">setFlags</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">ItemIsUserCheckable</span> <span class="o">|</span> <span class="n">Qt</span><span class="o">.</span><span class="n">ItemIsEnabled</span><span class="p">)</span>
            <span class="n">item</span><span class="o">.</span><span class="n">setData</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">Checked</span><span class="p">,</span> <span class="n">Qt</span><span class="o">.</span><span class="n">CheckStateRole</span><span class="p">)</span>
            <span class="n">item</span><span class="o">.</span><span class="n">setData</span><span class="p">(</span><span class="n">idx</span><span class="p">,</span> <span class="n">Qt</span><span class="o">.</span><span class="n">UserRole</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">combo_model</span><span class="o">.</span><span class="n">appendRow</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selection_changed</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">checked_items</span><span class="p">())</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">checked_items</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the indices of the selected items.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        result : list[int]</span>
<span class="sd">            List of indices of selected items</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">ii</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">combo_model</span><span class="o">.</span><span class="n">rowCount</span><span class="p">()):</span>
            <span class="n">item</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">combo_model</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="n">ii</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">item</span><span class="o">.</span><span class="n">checkState</span><span class="p">()</span> <span class="o">==</span> <span class="n">Qt</span><span class="o">.</span><span class="n">Checked</span><span class="p">:</span>
                <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="o">.</span><span class="n">data</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">UserRole</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">clear_selection</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Deselect all items.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">combo_model</span><span class="o">.</span><span class="n">blockSignals</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">ii</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">combo_model</span><span class="o">.</span><span class="n">rowCount</span><span class="p">()):</span>
            <span class="n">item</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">combo_model</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="n">ii</span><span class="p">)</span>
            <span class="n">item</span><span class="o">.</span><span class="n">setData</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">Unchecked</span><span class="p">,</span> <span class="n">Qt</span><span class="o">.</span><span class="n">CheckStateRole</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">combo_model</span><span class="o">.</span><span class="n">blockSignals</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selection_changed</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">checked_items</span><span class="p">())</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">select_all</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Select all items.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">combo_model</span><span class="o">.</span><span class="n">blockSignals</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">ii</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">combo_model</span><span class="o">.</span><span class="n">rowCount</span><span class="p">()):</span>
            <span class="n">item</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">combo_model</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="n">ii</span><span class="p">)</span>
            <span class="n">item</span><span class="o">.</span><span class="n">setData</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">Checked</span><span class="p">,</span> <span class="n">Qt</span><span class="o">.</span><span class="n">CheckStateRole</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">combo_model</span><span class="o">.</span><span class="n">blockSignals</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selection_changed</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">checked_items</span><span class="p">())</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="TiBi.views.widgets.CheckableComboBox.checked_items" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">checked_items</span><span class="p">()</span></code>

<a href="#TiBi.views.widgets.CheckableComboBox.checked_items" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Get the indices of the selected items.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>result</code></td>            <td>
                  <code><span title="list">list</span>[<span title="int">int</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of indices of selected items</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>TiBi/views/widgets/checkable_combo_box.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">checked_items</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the indices of the selected items.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    result : list[int]</span>
<span class="sd">        List of indices of selected items</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">ii</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">combo_model</span><span class="o">.</span><span class="n">rowCount</span><span class="p">()):</span>
        <span class="n">item</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">combo_model</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="n">ii</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">item</span><span class="o">.</span><span class="n">checkState</span><span class="p">()</span> <span class="o">==</span> <span class="n">Qt</span><span class="o">.</span><span class="n">Checked</span><span class="p">:</span>
            <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="o">.</span><span class="n">data</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">UserRole</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="TiBi.views.widgets.CheckableComboBox.clear_selection" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">clear_selection</span><span class="p">()</span></code>

<a href="#TiBi.views.widgets.CheckableComboBox.clear_selection" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Deselect all items.</p>


            <details class="quote">
              <summary>Source code in <code>TiBi/views/widgets/checkable_combo_box.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">clear_selection</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Deselect all items.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">combo_model</span><span class="o">.</span><span class="n">blockSignals</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">ii</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">combo_model</span><span class="o">.</span><span class="n">rowCount</span><span class="p">()):</span>
        <span class="n">item</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">combo_model</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="n">ii</span><span class="p">)</span>
        <span class="n">item</span><span class="o">.</span><span class="n">setData</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">Unchecked</span><span class="p">,</span> <span class="n">Qt</span><span class="o">.</span><span class="n">CheckStateRole</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">combo_model</span><span class="o">.</span><span class="n">blockSignals</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">selection_changed</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">checked_items</span><span class="p">())</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="TiBi.views.widgets.CheckableComboBox.refresh_combo" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">refresh_combo</span><span class="p">(</span><span class="n">items</span><span class="p">)</span></code>

<a href="#TiBi.views.widgets.CheckableComboBox.refresh_combo" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Reset the combo box with a new list of items.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>items</code>
            </td>
            <td>
                  <code><span title="list">list</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>New list of items to be added to the menu.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>TiBi/views/widgets/checkable_combo_box.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">refresh_combo</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">items</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Reset the combo box with a new list of items.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    items : list[str]</span>
<span class="sd">        New list of items to be added to the menu.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">combo_model</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">items</span><span class="p">)):</span>
        <span class="c1"># for text in items:</span>
        <span class="n">text</span> <span class="o">=</span> <span class="n">items</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span>
        <span class="n">item</span> <span class="o">=</span> <span class="n">QStandardItem</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
        <span class="n">item</span><span class="o">.</span><span class="n">setFlags</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">ItemIsUserCheckable</span> <span class="o">|</span> <span class="n">Qt</span><span class="o">.</span><span class="n">ItemIsEnabled</span><span class="p">)</span>
        <span class="n">item</span><span class="o">.</span><span class="n">setData</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">Checked</span><span class="p">,</span> <span class="n">Qt</span><span class="o">.</span><span class="n">CheckStateRole</span><span class="p">)</span>
        <span class="n">item</span><span class="o">.</span><span class="n">setData</span><span class="p">(</span><span class="n">idx</span><span class="p">,</span> <span class="n">Qt</span><span class="o">.</span><span class="n">UserRole</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">combo_model</span><span class="o">.</span><span class="n">appendRow</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">selection_changed</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">checked_items</span><span class="p">())</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="TiBi.views.widgets.CheckableComboBox.select_all" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">select_all</span><span class="p">()</span></code>

<a href="#TiBi.views.widgets.CheckableComboBox.select_all" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Select all items.</p>


            <details class="quote">
              <summary>Source code in <code>TiBi/views/widgets/checkable_combo_box.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span>
<span class="normal">95</span>
<span class="normal">96</span>
<span class="normal">97</span>
<span class="normal">98</span>
<span class="normal">99</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">select_all</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Select all items.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">combo_model</span><span class="o">.</span><span class="n">blockSignals</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">ii</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">combo_model</span><span class="o">.</span><span class="n">rowCount</span><span class="p">()):</span>
        <span class="n">item</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">combo_model</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="n">ii</span><span class="p">)</span>
        <span class="n">item</span><span class="o">.</span><span class="n">setData</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">Checked</span><span class="p">,</span> <span class="n">Qt</span><span class="o">.</span><span class="n">CheckStateRole</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">combo_model</span><span class="o">.</span><span class="n">blockSignals</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">selection_changed</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">checked_items</span><span class="p">())</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="TiBi.views.widgets.EnterKeyIntSpinBox" class="doc doc-heading">
            <code>TiBi.views.widgets.EnterKeyIntSpinBox</code>


<a href="#TiBi.views.widgets.EnterKeyIntSpinBox" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="PySide6.QtWidgets.QSpinBox">QSpinBox</span></code></p>


        <p>Custom <code>QSpinBox</code> that emits a signal when the Enter key is pressed.</p>
<p>On defocus, the value is reset to the original value and no signal
is emitted.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="TiBi.views.widgets.EnterKeyIntSpinBox.editingConfirmed">editingConfirmed</span></code></td>
            <td>
                  <code><span title="PySide6.QtCore.Signal">Signal</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Signal emitted when the Enter key is pressed and the value has changed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>







              <details class="quote">
                <summary>Source code in <code>TiBi/views/widgets/enter_key_int_spin_box.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">EnterKeyIntSpinBox</span><span class="p">(</span><span class="n">QSpinBox</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Custom `QSpinBox` that emits a signal when the Enter key is pressed.</span>

<span class="sd">    On defocus, the value is reset to the original value and no signal</span>
<span class="sd">    is emitted.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    editingConfirmed : Signal</span>
<span class="sd">        Signal emitted when the Enter key is pressed and the value has changed.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">editingConfirmed</span> <span class="o">=</span> <span class="n">Signal</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_original_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">focusInEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_original_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">focusInEvent</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">focusOutEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="c1"># Revert to original value on focus out</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">blockSignals</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_original_value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">blockSignals</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">focusOutEvent</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">keyPressEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">key</span><span class="p">()</span> <span class="ow">in</span> <span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">Key_Enter</span><span class="p">,</span> <span class="n">Qt</span><span class="o">.</span><span class="n">Key_Return</span><span class="p">):</span>
            <span class="c1"># Emit signal only if the value has changed</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">np</span><span class="o">.</span><span class="n">isclose</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_original_value</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_original_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">editingConfirmed</span><span class="o">.</span><span class="n">emit</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">event</span><span class="o">.</span><span class="n">key</span><span class="p">()</span> <span class="o">==</span> <span class="n">Qt</span><span class="o">.</span><span class="n">Key_Escape</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">blockSignals</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_original_value</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">blockSignals</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">keyPressEvent</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="TiBi.views.widgets.EnterKeySpinBox" class="doc doc-heading">
            <code>TiBi.views.widgets.EnterKeySpinBox</code>


<a href="#TiBi.views.widgets.EnterKeySpinBox" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="PySide6.QtWidgets.QDoubleSpinBox">QDoubleSpinBox</span></code></p>


        <p>Custom <code>QDoubleSpinBox</code> that emits a signal when the Enter key is pressed.</p>
<p>On defocus, the value is reset to the original value and no signal
is emitted.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="TiBi.views.widgets.EnterKeySpinBox.editingConfirmed">editingConfirmed</span></code></td>
            <td>
                  <code><span title="PySide6.QtCore.Signal">Signal</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Signal emitted when the Enter key is pressed and the value has changed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>







              <details class="quote">
                <summary>Source code in <code>TiBi/views/widgets/enter_key_spin_box.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">EnterKeySpinBox</span><span class="p">(</span><span class="n">QDoubleSpinBox</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Custom `QDoubleSpinBox` that emits a signal when the Enter key is pressed.</span>

<span class="sd">    On defocus, the value is reset to the original value and no signal</span>
<span class="sd">    is emitted.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    editingConfirmed : Signal</span>
<span class="sd">        Signal emitted when the Enter key is pressed and the value has changed.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">editingConfirmed</span> <span class="o">=</span> <span class="n">Signal</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_original_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">focusInEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_original_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">focusInEvent</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">focusOutEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="c1"># Revert to original value on focus out</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">blockSignals</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_original_value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">blockSignals</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">focusOutEvent</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">keyPressEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">key</span><span class="p">()</span> <span class="ow">in</span> <span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">Key_Enter</span><span class="p">,</span> <span class="n">Qt</span><span class="o">.</span><span class="n">Key_Return</span><span class="p">):</span>
            <span class="c1"># Emit signal only if the value has changed</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">np</span><span class="o">.</span><span class="n">isclose</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_original_value</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_original_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">editingConfirmed</span><span class="o">.</span><span class="n">emit</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">event</span><span class="o">.</span><span class="n">key</span><span class="p">()</span> <span class="o">==</span> <span class="n">Qt</span><span class="o">.</span><span class="n">Key_Escape</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">blockSignals</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_original_value</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">blockSignals</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">keyPressEvent</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="TiBi.views.widgets.SystemTree" class="doc doc-heading">
            <code>TiBi.views.widgets.SystemTree</code>


<a href="#TiBi.views.widgets.SystemTree" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="PySide6.QtWidgets.QTreeView">QTreeView</span></code></p>


        <p>Custom <code>QTreeViewtree</code>for displaying <code>UnitCell</code>s, <code>Site</code>s, and <code>State</code>s.</p>
<p>This tree view is designed to show a hierarchical structure of <code>UnitCell</code>s,
<code>Site</code>s, and <code>State</code>s. It allows for easy navigation and selection of these
elements. The tree is built using a <code>QStandardItemModel</code>, and each item
in the tree is represented by a <code>QStandardItem</code>. The tree supports
single selection mode and can be edited by double-clicking on an item.
The tree view emits a signal when the selection changes, providing
information about the selected <code>UnitCell</code>, <code>Site</code>, and <code>State</code>.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="TiBi.views.widgets.SystemTree.tree_model">tree_model</span></code></td>
            <td>
                  <code><span title="PySide6.QtGui.QStandardItemModel">QStandardItemModel</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The model used to populate the tree view.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="TiBi.views.widgets.SystemTree.root_node">root_node</span></code></td>
            <td>
                  <code><span title="PySide6.QtGui.QStandardItem">QStandardItem</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The root item of the tree model, representing the tree's top level.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="TiBi.views.widgets.SystemTree.tree_selection_changed">tree_selection_changed</span></code></td>
            <td>
                  <code><span title="PySide6.QtCore.Signal">Signal</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Emitted when the selection in the tree changes. The signal carries
a dictionary with the selected <code>UnitCell</code>, <code>Site</code>, and <code>State</code> IDs.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Methods:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="add_tree_item(name, uc_id, site_id=None, state_id=None) (TiBi.views.widgets.SystemTree.add_tree_item)" href="#TiBi.views.widgets.SystemTree.add_tree_item">add_tree_item</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Add and select a tree item without rebuilding the entire tree.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="find_item_by_id(uc_id, site_id=None, state_id=None) (TiBi.views.widgets.SystemTree.find_item_by_id)" href="#TiBi.views.widgets.SystemTree.find_item_by_id">find_item_by_id</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Find a tree item by its ID.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="refresh_tree(unit_cells) (TiBi.views.widgets.SystemTree.refresh_tree)" href="#TiBi.views.widgets.SystemTree.refresh_tree">refresh_tree</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Rebuilds the entire tree from the current data model.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="remove_tree_item(uc_id, site_id=None, state_id=None) (TiBi.views.widgets.SystemTree.remove_tree_item)" href="#TiBi.views.widgets.SystemTree.remove_tree_item">remove_tree_item</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Remove an item from the tree.</p>
                </div>
              </td>
            </tr>
      </tbody>
    </table>







              <details class="quote">
                <summary>Source code in <code>TiBi/views/widgets/system_tree.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">  9</span>
<span class="normal"> 10</span>
<span class="normal"> 11</span>
<span class="normal"> 12</span>
<span class="normal"> 13</span>
<span class="normal"> 14</span>
<span class="normal"> 15</span>
<span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">SystemTree</span><span class="p">(</span><span class="n">QTreeView</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Custom `QTreeViewtree`for displaying `UnitCell`s, `Site`s, and `State`s.</span>

<span class="sd">    This tree view is designed to show a hierarchical structure of `UnitCell`s,</span>
<span class="sd">    `Site`s, and `State`s. It allows for easy navigation and selection of these</span>
<span class="sd">    elements. The tree is built using a `QStandardItemModel`, and each item</span>
<span class="sd">    in the tree is represented by a `QStandardItem`. The tree supports</span>
<span class="sd">    single selection mode and can be edited by double-clicking on an item.</span>
<span class="sd">    The tree view emits a signal when the selection changes, providing</span>
<span class="sd">    information about the selected `UnitCell`, `Site`, and `State`.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    tree_model : QStandardItemModel</span>
<span class="sd">        The model used to populate the tree view.</span>
<span class="sd">    root_node : QStandardItem</span>
<span class="sd">        The root item of the tree model, representing the tree&#39;s top level.</span>
<span class="sd">    tree_selection_changed : Signal</span>
<span class="sd">        Emitted when the selection in the tree changes. The signal carries</span>
<span class="sd">        a dictionary with the selected `UnitCell`, `Site`, and `State` IDs.</span>

<span class="sd">    Methods</span>
<span class="sd">    -------</span>
<span class="sd">    add_tree_item(name, uc_id, site_id=None, state_id=None)</span>
<span class="sd">        Add and select a tree item without rebuilding the entire tree.</span>
<span class="sd">    find_item_by_id(self, uc_id, site_id=None, state_id=None)</span>
<span class="sd">        Find a tree item by its ID.</span>
<span class="sd">    refresh_tree(unit_cells: dict[uuid.UUID, UnitCell])</span>
<span class="sd">        Rebuilds the entire tree from the current data model.</span>
<span class="sd">    remove_tree_item(uc_id, site_id=None, state_id=None)</span>
<span class="sd">        Remove an item from the tree.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">tree_selection_changed</span> <span class="o">=</span> <span class="n">Signal</span><span class="p">(</span><span class="nb">object</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setHeaderHidden</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setSelectionMode</span><span class="p">(</span><span class="n">QTreeView</span><span class="o">.</span><span class="n">SingleSelection</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setEditTriggers</span><span class="p">(</span><span class="n">QTreeView</span><span class="o">.</span><span class="n">DoubleClicked</span><span class="p">)</span>

        <span class="c1"># Create model</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tree_model</span> <span class="o">=</span> <span class="n">QStandardItemModel</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">root_node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tree_model</span><span class="o">.</span><span class="n">invisibleRootItem</span><span class="p">()</span>

        <span class="c1"># Set model to view</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setModel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tree_model</span><span class="p">)</span>

        <span class="c1"># Internal signals</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selectionModel</span><span class="p">()</span><span class="o">.</span><span class="n">selectionChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_on_tree_selection_changed</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">refresh_tree</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">unit_cells</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="n">UnitCell</span><span class="p">]):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Rebuild the entire tree from the current data model.</span>

<span class="sd">        This method clears the existing tree and reconstructs it based on the</span>
<span class="sd">        current state of the unit_cells dictionary. It creates a hierarchical</span>
<span class="sd">        structure with three levels: unit cells, sites, and states.</span>

<span class="sd">        Note: For better performance, prefer the more specific update methods:</span>
<span class="sd">        - `add_tree_item()` - For adding or updating a single node</span>
<span class="sd">        - `remove_tree_item()` - For removing a single node</span>

<span class="sd">        This full refresh is typically only needed during initialization or</span>
<span class="sd">        when multiple components of the tree need to be updated simultaneously.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        unit_cells : dict[uuid.UUID, UnitCell]</span>
<span class="sd">            Dictionary of `UnitCells`s to be displayed in the tree.</span>
<span class="sd">            The keys are UUIDs and the values are `UnitCell` objects.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tree_model</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">root_node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tree_model</span><span class="o">.</span><span class="n">invisibleRootItem</span><span class="p">()</span>

        <span class="c1"># Add special &quot;add&quot; item at the top</span>
        <span class="n">add_item</span> <span class="o">=</span> <span class="n">QStandardItem</span><span class="p">(</span><span class="s2">&quot;+ Add Unit Cell&quot;</span><span class="p">)</span>
        <span class="n">add_item</span><span class="o">.</span><span class="n">setData</span><span class="p">(</span><span class="s2">&quot;ADD_UNIT_CELL&quot;</span><span class="p">,</span> <span class="n">Qt</span><span class="o">.</span><span class="n">UserRole</span><span class="p">)</span>  <span class="c1"># Special marker</span>
        <span class="n">add_item</span><span class="o">.</span><span class="n">setFlags</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">ItemIsEnabled</span><span class="p">)</span>  <span class="c1"># Not selectable, but clickable</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">root_node</span><span class="o">.</span><span class="n">appendRow</span><span class="p">(</span><span class="n">add_item</span><span class="p">)</span>

        <span class="c1"># Add unit cells</span>
        <span class="k">for</span> <span class="n">uc_id</span><span class="p">,</span> <span class="n">unit_cell</span> <span class="ow">in</span> <span class="n">unit_cells</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">unit_cell_item</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_tree_item</span><span class="p">(</span>
                <span class="n">unit_cell</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">item_id</span><span class="o">=</span><span class="n">uc_id</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">root_node</span><span class="o">.</span><span class="n">appendRow</span><span class="p">(</span><span class="n">unit_cell_item</span><span class="p">)</span>

            <span class="c1"># Add sites for this unit cell</span>
            <span class="k">for</span> <span class="n">site_id</span><span class="p">,</span> <span class="n">site</span> <span class="ow">in</span> <span class="n">unit_cell</span><span class="o">.</span><span class="n">sites</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">site_item</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_tree_item</span><span class="p">(</span><span class="n">site</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">item_id</span><span class="o">=</span><span class="n">site_id</span><span class="p">)</span>
                <span class="n">unit_cell_item</span><span class="o">.</span><span class="n">appendRow</span><span class="p">(</span><span class="n">site_item</span><span class="p">)</span>

                <span class="c1"># Add states for this site</span>
                <span class="k">for</span> <span class="n">state_id</span><span class="p">,</span> <span class="n">state</span> <span class="ow">in</span> <span class="n">site</span><span class="o">.</span><span class="n">states</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="n">state_item</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_tree_item</span><span class="p">(</span>
                        <span class="n">state</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">item_id</span><span class="o">=</span><span class="n">state_id</span>
                    <span class="p">)</span>
                    <span class="n">site_item</span><span class="o">.</span><span class="n">appendRow</span><span class="p">(</span><span class="n">state_item</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_create_tree_item</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">item_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">item_id</span><span class="p">:</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">QStandardItem</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a `QStandardItem` for tree.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        item_name : str</span>
<span class="sd">            Name of the item.</span>
<span class="sd">        item_id : uuid.UUID</span>
<span class="sd">            id of the item.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        QStandardItem</span>
<span class="sd">            The new tree item.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">tree_item</span> <span class="o">=</span> <span class="n">QStandardItem</span><span class="p">(</span><span class="n">item_name</span><span class="p">)</span>
        <span class="n">tree_item</span><span class="o">.</span><span class="n">setData</span><span class="p">(</span><span class="n">item_id</span><span class="p">,</span> <span class="n">Qt</span><span class="o">.</span><span class="n">UserRole</span><span class="p">)</span>  <span class="c1"># Store the ID</span>

        <span class="c1"># Set other visual properties</span>
        <span class="n">tree_item</span><span class="o">.</span><span class="n">setEditable</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">tree_item</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">find_item_by_id</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">uc_id</span><span class="p">,</span> <span class="n">site_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">state_id</span><span class="o">=</span><span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">QStandardItem</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Find a tree item by its ID.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        uc_id : uuid.UUID</span>
<span class="sd">            id of the `UnitCell`</span>
<span class="sd">        site_id : uuid.UUID, optional</span>
<span class="sd">            id of the `Site`</span>
<span class="sd">        state_id : uuid.UUID, optional</span>
<span class="sd">            id of the `State`</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        QStandardItem | None</span>
<span class="sd">            The required item if found, `None` otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">state_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">parent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find_item_by_id</span><span class="p">(</span><span class="n">uc_id</span><span class="p">,</span> <span class="n">site_id</span><span class="p">)</span>
            <span class="n">item_id</span> <span class="o">=</span> <span class="n">state_id</span>
        <span class="k">elif</span> <span class="n">site_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">parent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find_item_by_id</span><span class="p">(</span><span class="n">uc_id</span><span class="p">)</span>
            <span class="n">item_id</span> <span class="o">=</span> <span class="n">site_id</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">parent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">root_node</span>
            <span class="n">item_id</span> <span class="o">=</span> <span class="n">uc_id</span>

        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">parent</span><span class="o">.</span><span class="n">rowCount</span><span class="p">()):</span>
            <span class="n">item</span> <span class="o">=</span> <span class="n">parent</span><span class="o">.</span><span class="n">child</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">item</span><span class="o">.</span><span class="n">data</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">UserRole</span><span class="p">)</span> <span class="o">==</span> <span class="n">item_id</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">item</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_select_item_by_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">uc_id</span><span class="p">,</span> <span class="n">site_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">state_id</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Select a tree item programmatically by its ID.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        uc_id : uuid.UUID</span>
<span class="sd">            id of the `UnitCell`</span>
<span class="sd">        site_id : uuid.UUID, optional</span>
<span class="sd">            id of the `Site`</span>
<span class="sd">        state_id : uuid.UUID, optional</span>
<span class="sd">            id of the `State`</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">item</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find_item_by_id</span><span class="p">(</span><span class="n">uc_id</span><span class="p">,</span> <span class="n">site_id</span><span class="p">,</span> <span class="n">state_id</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">item</span><span class="p">:</span>
            <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tree_model</span><span class="o">.</span><span class="n">indexFromItem</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">selectionModel</span><span class="p">()</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span>
                <span class="n">index</span><span class="p">,</span> <span class="n">QItemSelectionModel</span><span class="o">.</span><span class="n">ClearAndSelect</span>
            <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_tree_item</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">uc_id</span><span class="p">,</span> <span class="n">site_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">state_id</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Add and select a tree item without rebuilding the entire tree.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        uc_id : uuid.UUID</span>
<span class="sd">            id of the `UnitCell`</span>
<span class="sd">        site_id : uuid.UUID, optional</span>
<span class="sd">            id of the `Site`</span>
<span class="sd">        state_id : uuid.UUID, optional</span>
<span class="sd">            id of the `State`</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">state_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>  <span class="c1"># Adding a state</span>
            <span class="n">parent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find_item_by_id</span><span class="p">(</span><span class="n">uc_id</span><span class="p">,</span> <span class="n">site_id</span><span class="p">)</span>
            <span class="n">item_id</span> <span class="o">=</span> <span class="n">state_id</span>
        <span class="k">elif</span> <span class="n">site_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>  <span class="c1"># Adding a site</span>
            <span class="n">parent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find_item_by_id</span><span class="p">(</span><span class="n">uc_id</span><span class="p">)</span>
            <span class="n">item_id</span> <span class="o">=</span> <span class="n">site_id</span>
        <span class="k">else</span><span class="p">:</span>  <span class="c1"># Adding a unit cell</span>
            <span class="n">parent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">root_node</span>
            <span class="n">item_id</span> <span class="o">=</span> <span class="n">uc_id</span>

        <span class="n">item</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_tree_item</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">item_id</span><span class="o">=</span><span class="n">item_id</span><span class="p">)</span>
        <span class="n">parent</span><span class="o">.</span><span class="n">appendRow</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
        <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tree_model</span><span class="o">.</span><span class="n">indexFromItem</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selectionModel</span><span class="p">()</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span>
            <span class="n">index</span><span class="p">,</span> <span class="n">QItemSelectionModel</span><span class="o">.</span><span class="n">ClearAndSelect</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">remove_tree_item</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">uc_id</span><span class="p">,</span> <span class="n">site_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">state_id</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Remove an item from the tree.</span>

<span class="sd">        If the item has a parent</span>
<span class="sd">        (i.e., is not a `UnitCell`), select the parent. Otherwise,</span>
<span class="sd">        clear the selection</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        uc_id : uuid.UUID</span>
<span class="sd">            id of the `UnitCell`</span>
<span class="sd">        site_id : uuid.UUID, optional</span>
<span class="sd">            id of the `Site`</span>
<span class="sd">        state_id : uuid.UUID, optional</span>
<span class="sd">            id of the `State`</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">item</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find_item_by_id</span><span class="p">(</span><span class="n">uc_id</span><span class="p">,</span> <span class="n">site_id</span><span class="p">,</span> <span class="n">state_id</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">item</span><span class="p">:</span>
            <span class="c1"># If the item is a unit cell, the parent is None, so we</span>
            <span class="c1"># default to the invisibleRootItem</span>
            <span class="n">parent</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">root_node</span>
            <span class="c1"># If the item has a parent, select it</span>
            <span class="k">if</span> <span class="n">item</span><span class="o">.</span><span class="n">parent</span><span class="p">():</span>
                <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tree_model</span><span class="o">.</span><span class="n">indexFromItem</span><span class="p">(</span><span class="n">parent</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">selectionModel</span><span class="p">()</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span>
                    <span class="n">index</span><span class="p">,</span> <span class="n">QItemSelectionModel</span><span class="o">.</span><span class="n">ClearAndSelect</span>
                <span class="p">)</span>
            <span class="c1"># Otherwise, deselect everything (the item is a unit cell)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">selectionModel</span><span class="p">()</span><span class="o">.</span><span class="n">clearSelection</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="n">QModelIndex</span><span class="p">())</span>
            <span class="c1"># Delete the item</span>
            <span class="n">parent</span><span class="o">.</span><span class="n">removeRow</span><span class="p">(</span><span class="n">item</span><span class="o">.</span><span class="n">row</span><span class="p">())</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_on_tree_selection_changed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">selected</span><span class="p">:</span> <span class="n">QStandardItem</span><span class="p">,</span> <span class="n">deselected</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Handle the change of selection in the tree.</span>

<span class="sd">        This method is called when the user selects a node in the tree view or</span>
<span class="sd">        the selection occurs programmatically.</span>
<span class="sd">        It determines what type of node was selected</span>
<span class="sd">        (unit cell, site, or state) and emits a dictionary with</span>
<span class="sd">        the item&#39;s id and, if applicable, its parent&#39;s/grandparent&#39;s id&#39;s.</span>
<span class="sd">        The dictionary is then used to update the app&#39;s selection model.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        selected : QStandardItem</span>
<span class="sd">            The newly selected item</span>
<span class="sd">        deselected : QStandardItem</span>
<span class="sd">            The previously selected items that are now deselected</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">indexes</span> <span class="o">=</span> <span class="n">selected</span><span class="o">.</span><span class="n">indexes</span><span class="p">()</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">indexes</span><span class="p">:</span>
            <span class="n">new_selection</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;unit_cell&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;site&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;state&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">}</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># Get the selected item</span>
            <span class="n">index</span> <span class="o">=</span> <span class="n">indexes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">item</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tree_model</span><span class="o">.</span><span class="n">itemFromIndex</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>

            <span class="n">item_id</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">data</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">UserRole</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">item</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>  <span class="c1"># unit cell selected</span>
                <span class="n">new_selection</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s2">&quot;unit_cell&quot;</span><span class="p">:</span> <span class="n">item_id</span><span class="p">,</span>
                    <span class="s2">&quot;site&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                    <span class="s2">&quot;state&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                <span class="p">}</span>
            <span class="k">elif</span> <span class="n">item</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>  <span class="c1"># site selected</span>
                <span class="n">parent_item</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
                <span class="n">parent_id</span> <span class="o">=</span> <span class="n">parent_item</span><span class="o">.</span><span class="n">data</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">UserRole</span><span class="p">)</span>

                <span class="n">new_selection</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s2">&quot;unit_cell&quot;</span><span class="p">:</span> <span class="n">parent_id</span><span class="p">,</span>
                    <span class="s2">&quot;site&quot;</span><span class="p">:</span> <span class="n">item_id</span><span class="p">,</span>
                    <span class="s2">&quot;state&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                <span class="p">}</span>
            <span class="k">else</span><span class="p">:</span>  <span class="c1"># state selected</span>
                <span class="n">parent_item</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
                <span class="n">parent_id</span> <span class="o">=</span> <span class="n">parent_item</span><span class="o">.</span><span class="n">data</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">UserRole</span><span class="p">)</span>
                <span class="n">grandparent_item</span> <span class="o">=</span> <span class="n">parent_item</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
                <span class="n">grandparent_id</span> <span class="o">=</span> <span class="n">grandparent_item</span><span class="o">.</span><span class="n">data</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">UserRole</span><span class="p">)</span>

                <span class="n">new_selection</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s2">&quot;unit_cell&quot;</span><span class="p">:</span> <span class="n">grandparent_id</span><span class="p">,</span>
                    <span class="s2">&quot;site&quot;</span><span class="p">:</span> <span class="n">parent_id</span><span class="p">,</span>
                    <span class="s2">&quot;state&quot;</span><span class="p">:</span> <span class="n">item_id</span><span class="p">,</span>
                <span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">tree_selection_changed</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="n">new_selection</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="TiBi.views.widgets.SystemTree.add_tree_item" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">add_tree_item</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">uc_id</span><span class="p">,</span> <span class="n">site_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">state_id</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#TiBi.views.widgets.SystemTree.add_tree_item" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Add and select a tree item without rebuilding the entire tree.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>uc_id</code>
            </td>
            <td>
                  <code><span title="uuid.UUID">UUID</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>id of the <code>UnitCell</code></p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>site_id</code>
            </td>
            <td>
                  <code><span title="uuid.UUID">UUID</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>id of the <code>Site</code></p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>state_id</code>
            </td>
            <td>
                  <code><span title="uuid.UUID">UUID</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>id of the <code>State</code></p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>TiBi/views/widgets/system_tree.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add_tree_item</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">uc_id</span><span class="p">,</span> <span class="n">site_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">state_id</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Add and select a tree item without rebuilding the entire tree.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    uc_id : uuid.UUID</span>
<span class="sd">        id of the `UnitCell`</span>
<span class="sd">    site_id : uuid.UUID, optional</span>
<span class="sd">        id of the `Site`</span>
<span class="sd">    state_id : uuid.UUID, optional</span>
<span class="sd">        id of the `State`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">state_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>  <span class="c1"># Adding a state</span>
        <span class="n">parent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find_item_by_id</span><span class="p">(</span><span class="n">uc_id</span><span class="p">,</span> <span class="n">site_id</span><span class="p">)</span>
        <span class="n">item_id</span> <span class="o">=</span> <span class="n">state_id</span>
    <span class="k">elif</span> <span class="n">site_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>  <span class="c1"># Adding a site</span>
        <span class="n">parent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find_item_by_id</span><span class="p">(</span><span class="n">uc_id</span><span class="p">)</span>
        <span class="n">item_id</span> <span class="o">=</span> <span class="n">site_id</span>
    <span class="k">else</span><span class="p">:</span>  <span class="c1"># Adding a unit cell</span>
        <span class="n">parent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">root_node</span>
        <span class="n">item_id</span> <span class="o">=</span> <span class="n">uc_id</span>

    <span class="n">item</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_tree_item</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">item_id</span><span class="o">=</span><span class="n">item_id</span><span class="p">)</span>
    <span class="n">parent</span><span class="o">.</span><span class="n">appendRow</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
    <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tree_model</span><span class="o">.</span><span class="n">indexFromItem</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">selectionModel</span><span class="p">()</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span>
        <span class="n">index</span><span class="p">,</span> <span class="n">QItemSelectionModel</span><span class="o">.</span><span class="n">ClearAndSelect</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="TiBi.views.widgets.SystemTree.find_item_by_id" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">find_item_by_id</span><span class="p">(</span><span class="n">uc_id</span><span class="p">,</span> <span class="n">site_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">state_id</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#TiBi.views.widgets.SystemTree.find_item_by_id" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Find a tree item by its ID.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>uc_id</code>
            </td>
            <td>
                  <code><span title="uuid.UUID">UUID</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>id of the <code>UnitCell</code></p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>site_id</code>
            </td>
            <td>
                  <code><span title="uuid.UUID">UUID</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>id of the <code>Site</code></p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>state_id</code>
            </td>
            <td>
                  <code><span title="uuid.UUID">UUID</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>id of the <code>State</code></p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="PySide6.QtGui.QStandardItem">QStandardItem</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The required item if found, <code>None</code> otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>TiBi/views/widgets/system_tree.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">find_item_by_id</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">uc_id</span><span class="p">,</span> <span class="n">site_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">state_id</span><span class="o">=</span><span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">QStandardItem</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Find a tree item by its ID.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    uc_id : uuid.UUID</span>
<span class="sd">        id of the `UnitCell`</span>
<span class="sd">    site_id : uuid.UUID, optional</span>
<span class="sd">        id of the `Site`</span>
<span class="sd">    state_id : uuid.UUID, optional</span>
<span class="sd">        id of the `State`</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    QStandardItem | None</span>
<span class="sd">        The required item if found, `None` otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">state_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">parent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find_item_by_id</span><span class="p">(</span><span class="n">uc_id</span><span class="p">,</span> <span class="n">site_id</span><span class="p">)</span>
        <span class="n">item_id</span> <span class="o">=</span> <span class="n">state_id</span>
    <span class="k">elif</span> <span class="n">site_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">parent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find_item_by_id</span><span class="p">(</span><span class="n">uc_id</span><span class="p">)</span>
        <span class="n">item_id</span> <span class="o">=</span> <span class="n">site_id</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">parent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">root_node</span>
        <span class="n">item_id</span> <span class="o">=</span> <span class="n">uc_id</span>

    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">parent</span><span class="o">.</span><span class="n">rowCount</span><span class="p">()):</span>
        <span class="n">item</span> <span class="o">=</span> <span class="n">parent</span><span class="o">.</span><span class="n">child</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">item</span><span class="o">.</span><span class="n">data</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">UserRole</span><span class="p">)</span> <span class="o">==</span> <span class="n">item_id</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">item</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="TiBi.views.widgets.SystemTree.refresh_tree" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">refresh_tree</span><span class="p">(</span><span class="n">unit_cells</span><span class="p">)</span></code>

<a href="#TiBi.views.widgets.SystemTree.refresh_tree" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Rebuild the entire tree from the current data model.</p>
<p>This method clears the existing tree and reconstructs it based on the
current state of the unit_cells dictionary. It creates a hierarchical
structure with three levels: unit cells, sites, and states.</p>
<p>Note: For better performance, prefer the more specific update methods:
- <code>add_tree_item()</code> - For adding or updating a single node
- <code>remove_tree_item()</code> - For removing a single node</p>
<p>This full refresh is typically only needed during initialization or
when multiple components of the tree need to be updated simultaneously.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>unit_cells</code>
            </td>
            <td>
                  <code><span title="dict">dict</span>[<span title="uuid.UUID">UUID</span>, <a class="autorefs autorefs-internal" title="TiBi.models.UnitCell


  
      dataclass
  " href="../models/#TiBi.models.UnitCell">UnitCell</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary of <code>UnitCells</code>s to be displayed in the tree.
The keys are UUIDs and the values are <code>UnitCell</code> objects.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>TiBi/views/widgets/system_tree.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">refresh_tree</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">unit_cells</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="n">UnitCell</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Rebuild the entire tree from the current data model.</span>

<span class="sd">    This method clears the existing tree and reconstructs it based on the</span>
<span class="sd">    current state of the unit_cells dictionary. It creates a hierarchical</span>
<span class="sd">    structure with three levels: unit cells, sites, and states.</span>

<span class="sd">    Note: For better performance, prefer the more specific update methods:</span>
<span class="sd">    - `add_tree_item()` - For adding or updating a single node</span>
<span class="sd">    - `remove_tree_item()` - For removing a single node</span>

<span class="sd">    This full refresh is typically only needed during initialization or</span>
<span class="sd">    when multiple components of the tree need to be updated simultaneously.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    unit_cells : dict[uuid.UUID, UnitCell]</span>
<span class="sd">        Dictionary of `UnitCells`s to be displayed in the tree.</span>
<span class="sd">        The keys are UUIDs and the values are `UnitCell` objects.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">tree_model</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">root_node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tree_model</span><span class="o">.</span><span class="n">invisibleRootItem</span><span class="p">()</span>

    <span class="c1"># Add special &quot;add&quot; item at the top</span>
    <span class="n">add_item</span> <span class="o">=</span> <span class="n">QStandardItem</span><span class="p">(</span><span class="s2">&quot;+ Add Unit Cell&quot;</span><span class="p">)</span>
    <span class="n">add_item</span><span class="o">.</span><span class="n">setData</span><span class="p">(</span><span class="s2">&quot;ADD_UNIT_CELL&quot;</span><span class="p">,</span> <span class="n">Qt</span><span class="o">.</span><span class="n">UserRole</span><span class="p">)</span>  <span class="c1"># Special marker</span>
    <span class="n">add_item</span><span class="o">.</span><span class="n">setFlags</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">ItemIsEnabled</span><span class="p">)</span>  <span class="c1"># Not selectable, but clickable</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">root_node</span><span class="o">.</span><span class="n">appendRow</span><span class="p">(</span><span class="n">add_item</span><span class="p">)</span>

    <span class="c1"># Add unit cells</span>
    <span class="k">for</span> <span class="n">uc_id</span><span class="p">,</span> <span class="n">unit_cell</span> <span class="ow">in</span> <span class="n">unit_cells</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">unit_cell_item</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_tree_item</span><span class="p">(</span>
            <span class="n">unit_cell</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">item_id</span><span class="o">=</span><span class="n">uc_id</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">root_node</span><span class="o">.</span><span class="n">appendRow</span><span class="p">(</span><span class="n">unit_cell_item</span><span class="p">)</span>

        <span class="c1"># Add sites for this unit cell</span>
        <span class="k">for</span> <span class="n">site_id</span><span class="p">,</span> <span class="n">site</span> <span class="ow">in</span> <span class="n">unit_cell</span><span class="o">.</span><span class="n">sites</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">site_item</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_tree_item</span><span class="p">(</span><span class="n">site</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">item_id</span><span class="o">=</span><span class="n">site_id</span><span class="p">)</span>
            <span class="n">unit_cell_item</span><span class="o">.</span><span class="n">appendRow</span><span class="p">(</span><span class="n">site_item</span><span class="p">)</span>

            <span class="c1"># Add states for this site</span>
            <span class="k">for</span> <span class="n">state_id</span><span class="p">,</span> <span class="n">state</span> <span class="ow">in</span> <span class="n">site</span><span class="o">.</span><span class="n">states</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">state_item</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_tree_item</span><span class="p">(</span>
                    <span class="n">state</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">item_id</span><span class="o">=</span><span class="n">state_id</span>
                <span class="p">)</span>
                <span class="n">site_item</span><span class="o">.</span><span class="n">appendRow</span><span class="p">(</span><span class="n">state_item</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="TiBi.views.widgets.SystemTree.remove_tree_item" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">remove_tree_item</span><span class="p">(</span><span class="n">uc_id</span><span class="p">,</span> <span class="n">site_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">state_id</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#TiBi.views.widgets.SystemTree.remove_tree_item" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Remove an item from the tree.</p>
<p>If the item has a parent
(i.e., is not a <code>UnitCell</code>), select the parent. Otherwise,
clear the selection</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>uc_id</code>
            </td>
            <td>
                  <code><span title="uuid.UUID">UUID</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>id of the <code>UnitCell</code></p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>site_id</code>
            </td>
            <td>
                  <code><span title="uuid.UUID">UUID</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>id of the <code>Site</code></p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>state_id</code>
            </td>
            <td>
                  <code><span title="uuid.UUID">UUID</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>id of the <code>State</code></p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>TiBi/views/widgets/system_tree.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">remove_tree_item</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">uc_id</span><span class="p">,</span> <span class="n">site_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">state_id</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Remove an item from the tree.</span>

<span class="sd">    If the item has a parent</span>
<span class="sd">    (i.e., is not a `UnitCell`), select the parent. Otherwise,</span>
<span class="sd">    clear the selection</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    uc_id : uuid.UUID</span>
<span class="sd">        id of the `UnitCell`</span>
<span class="sd">    site_id : uuid.UUID, optional</span>
<span class="sd">        id of the `Site`</span>
<span class="sd">    state_id : uuid.UUID, optional</span>
<span class="sd">        id of the `State`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">item</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find_item_by_id</span><span class="p">(</span><span class="n">uc_id</span><span class="p">,</span> <span class="n">site_id</span><span class="p">,</span> <span class="n">state_id</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">item</span><span class="p">:</span>
        <span class="c1"># If the item is a unit cell, the parent is None, so we</span>
        <span class="c1"># default to the invisibleRootItem</span>
        <span class="n">parent</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">root_node</span>
        <span class="c1"># If the item has a parent, select it</span>
        <span class="k">if</span> <span class="n">item</span><span class="o">.</span><span class="n">parent</span><span class="p">():</span>
            <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tree_model</span><span class="o">.</span><span class="n">indexFromItem</span><span class="p">(</span><span class="n">parent</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">selectionModel</span><span class="p">()</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span>
                <span class="n">index</span><span class="p">,</span> <span class="n">QItemSelectionModel</span><span class="o">.</span><span class="n">ClearAndSelect</span>
            <span class="p">)</span>
        <span class="c1"># Otherwise, deselect everything (the item is a unit cell)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">selectionModel</span><span class="p">()</span><span class="o">.</span><span class="n">clearSelection</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="n">QModelIndex</span><span class="p">())</span>
        <span class="c1"># Delete the item</span>
        <span class="n">parent</span><span class="o">.</span><span class="n">removeRow</span><span class="p">(</span><span class="n">item</span><span class="o">.</span><span class="n">row</span><span class="p">())</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.sections", "navigation.expand", "navigation.instant", "search.highlight", "content.code.copy"], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.56ea9cef.min.js"></script>
      
        <script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>